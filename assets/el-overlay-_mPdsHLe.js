import{b as ue,i as we,_ as de,d as ce,N as Ie,av as le,c as d,f as W,o as P,s as U,h as H,r as F,n as k,k as e,F as Se,t as j,w as D,g as x,j as ke,br as De,E as Ae,V as fe,a as Te,I as ae,b2 as Be,O as Fe,p as A,u as _e,bs as Pe,aF as $e,aS as Oe,aa as Le,ao as se,S as X,C as Ne,bt as ne,a9 as Re,a6 as Me,aJ as ze,e as Ve,U as Ue,ac as te,aG as je,ad as qe,aO as Ke,aB as Ge,l as Je}from"./index-BBqxh1Qt.js";import{a as Ze,u as Ye,b as Qe,c as We}from"./index-DlknRWU8.js";import{F as Xe,t as He,E as xe,a as eo}from"./el-table-column-BBRnyYHQ.js";import{U as ve}from"./el-input-Dwtsn4FB.js";import{e as re,u as oo}from"./el-button-DVrV4cDQ.js";const ge=Symbol("dialogInjectionKey"),ie="dialog-fade",me=ue({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:we},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=(...o)=>i=>{o.forEach(f=>{f.value=i})},so=["aria-level"],no=["aria-label"],to=["id"],ro=ce({name:"ElDialogContent",__name:"dialog-content",props:me,emits:lo,setup(o,{expose:i}){const{t:f}=Ie(),{Close:N}=De,n=o,{dialogRef:m,headerRef:T,bodyId:B,ns:r,style:c}=le(ge),{focusTrapRef:C}=le(Xe),h=ao(C,m),E=d(()=>!!n.draggable),w=d(()=>!!n.overflow),{resetPosition:p,updatePosition:y,isDragging:_}=Ze(m,T,E,w),$=d(()=>[r.b(),r.is("fullscreen",n.fullscreen),r.is("draggable",E.value),r.is("dragging",_.value),r.is("align-center",!!n.alignCenter),{[r.m("center")]:n.center}]);return i({resetPosition:p,updatePosition:y}),(t,I)=>(P(),W("div",{ref:e(h),class:k($.value),style:fe(e(c)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:T,class:k([e(r).e("header"),t.headerClass,{"show-close":t.showClose}])},[F(t.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":t.ariaLevel,class:k(e(r).e("title"))},Se(t.title),11,so)]),t.showClose?(P(),W("button",{key:0,"aria-label":e(f)("el.dialog.close"),class:k(e(r).e("headerbtn")),type:"button",onClick:I[0]||(I[0]=R=>t.$emit("close"))},[j(e(Ae),{class:k(e(r).e("close"))},{default:D(()=>[(P(),x(ke(t.closeIcon||e(N))))]),_:1},8,["class"])],10,no)):H("v-if",!0)],2),U("div",{id:e(B),class:k([e(r).e("body"),t.bodyClass])},[F(t.$slots,"default")],10,to),t.$slots.footer?(P(),W("footer",{key:0,class:k([e(r).e("footer"),t.footerClass])},[F(t.$slots,"footer")],2)):H("v-if",!0)],6))}});var io=de(ro,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const uo=ue({...me,appendToBody:Boolean,appendTo:{type:He.to.type,default:"body"},beforeClose:{type:ae(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:ae([String,Object]),default:void 0}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ve]:o=>Te(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(o,i)=>{var f;const n=Be().emit,{nextZIndex:m}=Fe();let T="";const B=re(),r=re(),c=A(!1),C=A(!1),h=A(!1),E=A((f=o.zIndex)!=null?f:m()),w=A(!1);let p,y;const _=_e(),$=d(()=>{var l,s;return(s=(l=_.value)==null?void 0:l.namespace)!=null?s:Pe}),t=d(()=>{var l;return(l=_.value)==null?void 0:l.dialog}),I=d(()=>{const l={},s=`--${$.value}-dialog`;if(!o.fullscreen){o.top&&(l[`${s}-margin-top`]=o.top);const u=$e(o.width);u&&(l[`${s}-width`]=u)}return l}),R=d(()=>{var l,s,u;return((u=(s=o.draggable)!=null?s:(l=t.value)==null?void 0:l.draggable)!=null?u:!1)&&!o.fullscreen}),M=d(()=>{var l,s,u;return(u=(s=o.alignCenter)!=null?s:(l=t.value)==null?void 0:l.alignCenter)!=null?u:!1}),q=d(()=>{var l,s,u;return(u=(s=o.overflow)!=null?s:(l=t.value)==null?void 0:l.overflow)!=null?u:!1}),K=d(()=>M.value?{display:"flex"}:{}),G=d(()=>{var l,s,u;const Y=(u=(s=o.transition)!=null?s:(l=t.value)==null?void 0:l.transition)!=null?u:ie,he={name:Y,onAfterEnter:O,onBeforeLeave:L,onAfterLeave:v};if(Oe(Y)){const b={...Y},Q=(V,Ee)=>ee=>{Le(V)?V.forEach(oe=>{se(oe)&&oe(ee)}):se(V)&&V(ee),Ee()};return b.onAfterEnter=Q(b.onAfterEnter,O),b.onBeforeLeave=Q(b.onBeforeLeave,L),b.onAfterLeave=Q(b.onAfterLeave,v),b.name||(b.name=ie),b}return he});function O(){n("opened")}function v(){n("closed"),n(ve,!1),o.destroyOnClose&&(h.value=!1),w.value=!1}function L(){w.value=!0,n("close")}function J(){y?.(),p?.(),o.openDelay&&o.openDelay>0?{stop:p}=ne(()=>S(),o.openDelay):S()}function a(){p?.(),y?.(),o.closeDelay&&o.closeDelay>0?{stop:y}=ne(()=>Z(),o.closeDelay):Z()}function g(){function l(s){s||(C.value=!0,c.value=!1)}o.beforeClose?o.beforeClose(l):a()}function z(){o.closeOnClickModal&&g()}function S(){Re&&(c.value=!0)}function Z(){c.value=!1}function pe(){n("openAutoFocus")}function ye(){n("closeAutoFocus")}function be(l){var s;((s=l.detail)==null?void 0:s.focusReason)==="pointer"&&l.preventDefault()}o.lockScroll&&Ye(c);function Ce(){o.closeOnPressEscape&&g()}return X(()=>o.zIndex,()=>{var l;E.value=(l=o.zIndex)!=null?l:m()}),X(()=>o.modelValue,l=>{var s;l?(C.value=!1,J(),h.value=!0,E.value=(s=o.zIndex)!=null?s:m(),Me(()=>{n("open"),i.value&&(i.value.parentElement.scrollTop=0,i.value.parentElement.scrollLeft=0,i.value.scrollTop=0)})):c.value&&a()}),X(()=>o.fullscreen,l=>{i.value&&(l?(T=i.value.style.transform,i.value.style.transform=""):i.value.style.transform=T)}),Ne(()=>{o.modelValue&&(c.value=!0,h.value=!0,J())}),{afterEnter:O,afterLeave:v,beforeLeave:L,handleClose:g,onModalClick:z,close:a,doClose:Z,onOpenAutoFocus:pe,onCloseAutoFocus:ye,onCloseRequested:Ce,onFocusoutPrevented:be,titleId:B,bodyId:r,closed:C,style:I,overlayDialogStyle:K,rendered:h,visible:c,zIndex:E,transitionConfig:G,_draggable:R,_alignCenter:M,_overflow:q,closing:w}},vo=["aria-label","aria-labelledby","aria-describedby"],go=ce({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:uo,emits:co,setup(o,{expose:i}){const f=o,N=ze();oo({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},d(()=>!!N.title));const n=Ve("dialog"),m=A(),T=A(),B=A(),{visible:r,titleId:c,bodyId:C,style:h,overlayDialogStyle:E,rendered:w,transitionConfig:p,zIndex:y,_draggable:_,_alignCenter:$,_overflow:t,handleClose:I,onModalClick:R,onOpenAutoFocus:M,onCloseAutoFocus:q,onCloseRequested:K,onFocusoutPrevented:G,closing:O}=fo(f,m);Ge(ge,{dialogRef:m,headerRef:T,bodyId:C,ns:n,rendered:w,style:h});const v=We(R),L=d(()=>f.modalPenetrable&&!f.modal&&!f.fullscreen);return i({visible:r,dialogContentRef:B,resetPosition:()=>{var a;(a=B.value)==null||a.resetPosition()},handleClose:I}),(a,g)=>(P(),x(e(eo),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:D(()=>[j(Ue,te(e(p),{persisted:""}),{default:D(()=>{var z;return[je(j(e(Qe),{"custom-mask-event":"",mask:a.modal,"overlay-class":[(z=a.modalClass)!=null?z:"",`${e(n).namespace.value}-modal-dialog`,e(n).is("penetrable",L.value)],"z-index":e(y)},{default:D(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(c),"aria-describedby":e(C),class:k([`${e(n).namespace.value}-overlay-dialog`,e(n).is("closing",e(O))]),style:fe(e(E)),onClick:g[0]||(g[0]=(...S)=>e(v).onClick&&e(v).onClick(...S)),onMousedown:g[1]||(g[1]=(...S)=>e(v).onMousedown&&e(v).onMousedown(...S)),onMouseup:g[2]||(g[2]=(...S)=>e(v).onMouseup&&e(v).onMouseup(...S))},[j(e(xe),{loop:"",trapped:e(r),"focus-start-el":"container",onFocusAfterTrapped:e(M),onFocusAfterReleased:e(q),onFocusoutPrevented:e(G),onReleaseRequested:e(K)},{default:D(()=>[e(w)?(P(),x(io,te({key:0,ref_key:"dialogContentRef",ref:B},a.$attrs,{center:a.center,"align-center":e($),"close-icon":a.closeIcon,draggable:e(_),overflow:e(t),fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:e(I)}),qe({header:D(()=>[a.$slots.title?F(a.$slots,"title",{key:1}):F(a.$slots,"header",{key:0,close:e(I),titleId:e(c),titleClass:e(n).e("title")})]),default:D(()=>[F(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:D(()=>[F(a.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):H("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[Ke,e(r)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var mo=de(go,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Eo=Je(mo);export{Eo as E};
