import{b as tt,f as nt,E as st}from"./el-button-Vc6VEKII.js";import{E as at}from"./el-overlay-BzxwWa47.js";import{k as ot,b as dt,h as lt,c as rt,e as it,f as ct,l as ut,m as ht}from"./el-table-column-DnVx5bAE.js";import{E as ft}from"./el-tag-H94PFL3m.js";import{b as pt,E as gt,a as mt}from"./el-input-CFf0CTHR.js";import{E as yt}from"./el-switch-CGMg5m1i.js";import{E as vt}from"./el-card-CgDv5Emn.js";import{_ as ie,d as ne,e as X,g as V,o as T,w as v,r as ve,ac as Nt,aV as Ct,k as se,U as kt,l as Te,b as Le,aW as bt,p as x,c as ke,aX as J,C as Ie,aY as Me,V as Ue,n as M,j as He,a7 as Et,aZ as be,a as Ee,aa as fe,ap as we,q as wt,ao as ye,ah as Ve,aq as Dt,aS as Kt,a_ as Ae,a6 as De,av as le,aH as ze,aA as xt,aB as re,aP as Ce,aR as _t,a$ as G,aG as Ke,aO as xe,f as ee,s as $,t as h,h as ae,y as H,X as Fe,ar as je,b0 as St,E as qe,S as U,b1 as Tt,b2 as Re,T as It,a4 as Bt,a5 as q,i as Pt,I as pe,F as oe,N as At,ax as zt,v as ge,x as O,aD as Ot,b3 as $t,at as Lt,aE as Mt,z as B,B as Ut}from"./index-ClAeb_nj.js";import{P as Ht}from"./PageLayout-2dU49uLu.js";import{m as Vt,n as Ft,o as jt,i as qt,p as Rt,q as Yt}from"./api-D03_kbYf.js";import{E as Wt}from"./index-Az46Y9ah.js";import"./mockData-C7SYYOmC.js";const Gt=ne({name:"ElCollapseTransition",__name:"collapse-transition",setup(n){const e=X("collapse-transition"),s=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},a={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){s(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){s(t)},leaveCancelled(t){s(t)}};return(t,o)=>(T(),V(kt,Nt({name:se(e).b()},Ct(a)),{default:v(()=>[ve(t.$slots,"default")]),_:3},16,["name"]))}});var Jt=ie(Gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const Qt=Te(Jt),Xt=Le({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:bt,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Zt=ne({name:"ElText",__name:"text",props:Xt,setup(n){const e=n,s=x(),a=tt(),t=X("text"),o=ke(()=>[t.b(),t.m(e.type),t.m(a.value),t.is("truncated",e.truncated),t.is("line-clamp",!J(e.lineClamp))]),l=()=>{var i,g,m,u,f,p,y;if(Et().title)return;let b=!1;const N=((i=s.value)==null?void 0:i.textContent)||"";if(e.truncated){const E=(g=s.value)==null?void 0:g.offsetWidth,_=(m=s.value)==null?void 0:m.scrollWidth;E&&_&&_>E&&(b=!0)}else if(!J(e.lineClamp)){const E=(u=s.value)==null?void 0:u.offsetHeight,_=(f=s.value)==null?void 0:f.scrollHeight;E&&_&&_>E&&(b=!0)}b?(p=s.value)==null||p.setAttribute("title",N):(y=s.value)==null||y.removeAttribute("title")};return Ie(l),Me(l),(i,g)=>(T(),V(He(i.tag),{ref_key:"textRef",ref:s,class:M(o.value),style:Ue({"-webkit-line-clamp":i.lineClamp})},{default:v(()=>[ve(i.$slots,"default")]),_:3},8,["class","style"]))}});var en=ie(Zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const tn=Te(en),te="$treeNodeId",Oe=function(n,e){!e||e[te]||Object.defineProperty(e,te,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},Be=(n,e)=>e?.[n||te],_e=(n,e,s)=>{const a=n.value.currentNode;s();const t=n.value.currentNode;a!==t&&e("current-change",t?t.data:null,t)},Ye=n=>{let e=!0,s=!0,a=!0,t=!0;for(let o=0,l=n.length;o<l;o++){const i=n[o];(i.checked!==!0||i.indeterminate)&&(e=!1,i.disabled||(a=!1)),(i.checked!==!1||i.indeterminate)&&(s=!1),i.isEffectivelyChecked||(t=!1)}return{all:e,none:s,allWithoutDisable:a,half:!e&&!s,isEffectivelyChecked:t}},de=function(n){if(n.childNodes.length===0||n.loading){n.isEffectivelyChecked=n.disabled||n.checked;return}const{all:e,none:s,half:a,isEffectivelyChecked:t}=Ye(n.childNodes);n.isEffectivelyChecked=t,e?(n.checked=!0,n.indeterminate=!1):a?(n.checked=!1,n.indeterminate=!0):s&&(n.checked=!1,n.indeterminate=!1);const o=n.parent;!o||o.level===0||n.store.checkStrictly||de(o)},me=function(n,e){const s=n.store.props,a=n.data||{},t=s[e];if(ye(t))return t(a,n);if(Ve(t))return a[t];if(J(t)){const o=a[e];return J(o)?"":o}},Se=function(n,e){n.forEach(s=>{s.canFocus=e,Se(s.childNodes,e)})};let nn=0;class Q{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=nn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const s in e)be(e,s)&&(this[s]=e[s]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const s=this.store;if(!s)throw new Error("[Node]store is required!");s.registerNode(this);const a=s.props;if(a&&typeof a.isLeaf<"u"){const l=me(this,"isLeaf");Ee(l)&&(this.isLeafByUser=l)}if(s.lazy!==!0&&this.data?(this.setData(this.data),s.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&s.lazy&&s.defaultExpandAll&&!this.isLeafByUser&&this.expand(),fe(this.data)||Oe(this,this.data),!this.data)return;const t=s.defaultExpandedKeys,o=s.key;o&&!we(this.key)&&t&&t.includes(this.key)&&this.expand(null,s.autoExpandParent),o&&s.currentNodeKey!==void 0&&this.key===s.currentNodeKey&&(s.currentNode&&(s.currentNode.isCurrent=!1),s.currentNode=this,s.currentNode.isCurrent=!0),s.lazy&&s._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((e=this.parent)==null?void 0:e.expanded)===!0)&&(this.canFocus=!0)}setData(e){fe(e)||Oe(this,e),this.data=e,this.childNodes=[];let s;this.level===0&&fe(this.data)?s=this.data:s=me(this,"children")||[];for(let a=0,t=s.length;a<t;a++)this.insertChild({data:s[a]})}get label(){return me(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return me(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const s=e.childNodes.indexOf(this);if(s>-1)return e.childNodes[s+1]}return null}get previousSibling(){const e=this.parent;if(e){const s=e.childNodes.indexOf(this);if(s>-1)return s>0?e.childNodes[s-1]:null}return null}contains(e,s=!0){return(this.childNodes||[]).some(a=>a===e||s&&a.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,s,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Q)){if(!a){const t=this.getChildren(!0);t?.includes(e.data)||(J(s)||s<0?t?.push(e.data):t?.splice(s,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=wt(new Q(e)),e instanceof Q&&e.initialize()}e.level=this.level+1,J(s)||s<0?this.childNodes.push(e):this.childNodes.splice(s,0,e),this.updateLeafState()}insertBefore(e,s){let a;s&&(a=this.childNodes.indexOf(s)),this.insertChild(e,a)}insertAfter(e,s){let a;s&&(a=this.childNodes.indexOf(s),a!==-1&&(a+=1)),this.insertChild(e,a)}removeChild(e){const s=this.getChildren()||[],a=s.indexOf(e.data);a>-1&&s.splice(a,1);const t=this.childNodes.indexOf(e);t>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(e){const s=this.childNodes.find(a=>a.data===e);s&&this.removeChild(s)}expand(e,s){const a=()=>{if(s){let t=this.parent;for(;t&&t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,e&&e(),Se(this.childNodes,!0)};this.shouldLoadData()?this.loadData(t=>{fe(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||de(this),a())}):a()}doCreateChildren(e,s={}){e.forEach(a=>{this.insertChild(Object.assign({data:a},s),void 0,!0)})}collapse(){this.expanded=!1,Se(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(e,s,a,t){if(this.indeterminate=e==="half",this.checked=e===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const l=()=>{if(s){const i=this.childNodes;for(let f=0,p=i.length;f<p;f++){const y=i[f];t=t||e!==!1;const C=y.disabled&&y.isLeaf?y.checked:t;y.setChecked(C,s,!0,t)}const{half:g,all:m,isEffectivelyChecked:u}=Ye(i);m||(this.checked=m,this.indeterminate=g),this.isEffectivelyChecked=this.childNodes.length?u:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{l(),de(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||a||de(o)}getChildren(e=!1){if(this.level===0)return this.data;const s=this.data;if(!s)return null;const a=this.store.props;let t="children";return a&&(t=a.children||"children"),J(s[t])&&(s[t]=null),e&&!s[t]&&(s[t]=[]),s[t]}updateChildren(){const e=this.getChildren()||[],s=this.childNodes.map(o=>o.data),a={},t=[];e.forEach((o,l)=>{const i=o[te];!!i&&s.some(m=>m?.[te]===i)?a[i]={index:l,data:o}:t.push({index:l,data:o})}),this.store.lazy||s.forEach(o=>{a[o?.[te]]||this.removeChildByData(o)}),t.forEach(({index:o,data:l})=>{this.insertChild({data:l},o)}),this.updateLeafState()}loadData(e,s={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(s).length)){this.loading=!0;const a=o=>{this.childNodes=[],this.doCreateChildren(o,s),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,o)},t=()=>{this.loading=!1};this.store.load(this,a,t)}else e&&e.call(this)}eachNode(e){const s=[this];for(;s.length;){const a=s.shift();s.unshift(...a.childNodes),e(a)}}reInitChecked(){this.store.checkStrictly||de(this)}}class sn{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const s in e)be(e,s)&&(this[s]=e[s]);this.nodesMap={}}initialize(){if(this.root=new Q({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,s=>{this.root.doCreateChildren(s),this._initDefaultCheckedNodes()},Dt)}else this._initDefaultCheckedNodes()}filter(e){const s=this.filterNodeMethod,a=this.lazy,t=async function(o){const l=o.root?o.root.childNodes:o.childNodes;for(const[i,g]of l.entries())g.visible=!!s?.call(g,e,g.data,g),i%80===0&&i>0&&await De(),await t(g);if(!o.visible&&l.length){let i=!0;i=!l.some(g=>g.visible),o.root?o.root.visible=i===!1:o.visible=i===!1}e&&o.visible&&!o.isLeaf&&(!a||o.loaded)&&o.expand()};t(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof Q)return e;const s=Kt(e)?Be(this.key,e):e;return this.nodesMap[s]||null}insertBefore(e,s){var a;const t=this.getNode(s);(a=t.parent)==null||a.insertBefore({data:e},t)}insertAfter(e,s){var a;const t=this.getNode(s);(a=t.parent)==null||a.insertAfter({data:e},t)}remove(e){const s=this.getNode(e);s&&s.parent&&(s===this.currentNode&&(this.currentNode=null),s.parent.removeChild(s))}append(e,s){const a=Ae(s)?this.root:this.getNode(s);a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],s=this.nodesMap;e.forEach(a=>{const t=s[a];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const s=this.defaultCheckedKeys||[];!we(e.key)&&s.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const s=this.key;if(!(!e||!e.data))if(!s)this.nodesMap[e.id]=e;else{const a=e.key;we(a)||(this.nodesMap[a]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,s=!1){const a=[],t=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(i=>{(i.checked||s&&i.indeterminate)&&(!e||e&&i.isLeaf)&&a.push(i.data),t(i)})};return t(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(s=>(s||{})[this.key])}getHalfCheckedNodes(){const e=[],s=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),s(o)})};return s(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],s=this.nodesMap;for(const a in s)be(s,a)&&e.push(s[a]);return e}updateChildren(e,s){const a=this.nodesMap[e];if(!a)return;const t=a.childNodes;for(let o=t.length-1;o>=0;o--){const l=t[o];this.remove(l.data)}for(let o=0,l=s.length;o<l;o++){const i=s[o];this.append(i,a.data)}}_setCheckedKeys(e,s=!1,a){const t=this._getAllNodes().sort((g,m)=>g.level-m.level),o=Object.create(null),l=Object.keys(a);t.forEach(g=>g.setChecked(!1,!1));const i=g=>{g.childNodes.forEach(m=>{var u;o[m.data[e]]=!0,(u=m.childNodes)!=null&&u.length&&i(m)})};for(let g=0,m=t.length;g<m;g++){const u=t[g],f=u.data[e].toString();if(!l.includes(f)){u.checked&&!o[f]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&i(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),s){u.setChecked(!1,!1);const y=function(C){C.childNodes.forEach(N=>{N.isLeaf||N.setChecked(!1,!1),y(N)})};y(u)}}}setCheckedNodes(e,s=!1){const a=this.key,t={};e.forEach(o=>{t[(o||{})[a]]=!0}),this._setCheckedKeys(a,s,t)}setCheckedKeys(e,s=!1){this.defaultCheckedKeys=e;const a=this.key,t={};e.forEach(o=>{t[o]=!0}),this._setCheckedKeys(a,s,t)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(s=>{const a=this.getNode(s);a&&a.expand(null,this.autoExpandParent)})}setChecked(e,s,a){const t=this.getNode(e);t&&t.setChecked(!!s,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const s=this.currentNode;s&&(s.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,s=!0){var a;const t=e[this.key],o=this.nodesMap[t];this.setCurrentNode(o),s&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0))}setCurrentNodeKey(e,s=!0){var a;if(this.currentNodeKey=e,Ae(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const t=this.getNode(e);t&&(this.setCurrentNode(t),s&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0)))}}const Pe="RootTree",We="NodeInstance",$e="TreeNodeMap",an=ne({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=X("tree"),s=le(We),a=le(Pe);return()=>{const t=n.node,{data:o,store:l}=t;return n.renderContent?n.renderContent(ze,{_self:s,node:t,data:o,store:l}):ve(a.ctx.slots,"default",{node:t,data:o},()=>[ze(tn,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[t.label])])}}});var on=ie(an,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Ge(n){const e=le($e,null);let s={treeNodeExpand:a=>{var t;n.node!==a&&((t=n.node)==null||t.collapse())},children:new Set};return e&&e.children.add(s),xt(()=>{e&&e.children.delete(s),s=null}),re($e,s),{broadcastExpanded:a=>{if(n.accordion)for(const t of s.children)t.treeNodeExpand(a)}}}const Je=Symbol("dragEvents");function dn({props:n,ctx:e,el$:s,dropIndicator$:a,store:t}){const o=X("tree"),l=x({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return re(Je,{treeNodeDragStart:({event:u,treeNode:f})=>{if(u.dataTransfer){if(ye(n.allowDrag)&&!n.allowDrag(f.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=f,e.emit("node-drag-start",f.node,u)}},treeNodeDragOver:({event:u,treeNode:f})=>{if(!u.dataTransfer)return;const p=f,y=l.value.dropNode;y&&y.node.id!==p.node.id&&Ce(y.$el,o.is("drop-inner"));const C=l.value.draggingNode;if(!C||!p)return;let b=!0,N=!0,E=!0,_=!0;ye(n.allowDrop)&&(b=n.allowDrop(C.node,p.node,"prev"),_=N=n.allowDrop(C.node,p.node,"inner"),E=n.allowDrop(C.node,p.node,"next")),u.dataTransfer.dropEffect=N||b||E?"move":"none",(b||N||E)&&y?.node.id!==p.node.id&&(y&&e.emit("node-drag-leave",C.node,y.node,u),e.emit("node-drag-enter",C.node,p.node,u)),b||N||E?l.value.dropNode=p:l.value.dropNode=null,p.node.nextSibling===C.node&&(E=!1),p.node.previousSibling===C.node&&(b=!1),p.node.contains(C.node,!1)&&(N=!1),(C.node===p.node||C.node.contains(p.node))&&(b=!1,N=!1,E=!1);const P=p.$el,I=P.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),F=s.value.getBoundingClientRect(),R=s.value.scrollTop;let S;const Z=b?N?.25:E?.45:1:Number.NEGATIVE_INFINITY,r=E?N?.75:b?.55:0:Number.POSITIVE_INFINITY;let d=-9999;const K=u.clientY-I.top;K<I.height*Z?S="before":K>I.height*r?S="after":N?S="inner":S="none";const D=P.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),Y=a.value;S==="before"?d=D.top-F.top+R:S==="after"&&(d=D.bottom-F.top+R),Y.style.top=`${d}px`,Y.style.left=`${D.right-F.left}px`,S==="inner"?_t(P,o.is("drop-inner")):Ce(P,o.is("drop-inner")),l.value.showDropIndicator=S==="before"||S==="after",l.value.allowDrop=l.value.showDropIndicator||_,l.value.dropType=S,e.emit("node-drag-over",C.node,p.node,u)},treeNodeDragEnd:u=>{var f,p;const{draggingNode:y,dropType:C,dropNode:b}=l.value;if(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="move"),y?.node.data&&b){const N={data:y.node.data};C!=="none"&&y.node.remove(),C==="before"?(f=b.node.parent)==null||f.insertBefore(N,b.node):C==="after"?(p=b.node.parent)==null||p.insertAfter(N,b.node):C==="inner"&&b.node.insertChild(N),C!=="none"&&(t.value.registerNode(N),t.value.key&&y.node.eachNode(E=>{var _;(_=t.value.nodesMap[E.data[t.value.key]])==null||_.setChecked(E.checked,!t.value.checkStrictly)})),Ce(b.$el,o.is("drop-inner")),e.emit("node-drag-end",y.node,b.node,C,u),C!=="none"&&e.emit("node-drop",y.node,b.node,C,u)}y&&!b&&e.emit("node-drag-end",y.node,null,C,u),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const ln=ne({name:"ElTreeNode",components:{ElCollapseTransition:Qt,ElCheckbox:ot,NodeContent:on,ElIcon:qe,Loading:St},props:{node:{type:Q,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(n,e){const s=X("tree"),{broadcastExpanded:a}=Ge(n),t=le(Pe),o=x(!1),l=x(!1),i=x(),g=x(),m=x(),u=le(Je),f=Re();re(We,f),n.node.expanded&&(o.value=!0,l.value=!0);const p=t.props.props.children||"children";U(()=>{var r;const d=(r=n.node.data)==null?void 0:r[p];return d&&[...d]},()=>{n.node.updateChildren()}),U(()=>n.node.indeterminate,r=>{b(n.node.checked,r)}),U(()=>n.node.checked,r=>{b(r,n.node.indeterminate)}),U(()=>n.node.childNodes.length,()=>n.node.reInitChecked()),U(()=>n.node.expanded,r=>{De(()=>o.value=r),r&&(l.value=!0)});const y=r=>Be(t.props.nodeKey,r.data),C=r=>{const d=n.props.class;if(!d)return{};let K;if(ye(d)){const{data:D}=r;K=d(D,r)}else K=d;return Ve(K)?{[K]:!0}:K},b=(r,d)=>{(i.value!==r||g.value!==d)&&t.ctx.emit("check-change",n.node.data,r,d),i.value=r,g.value=d},N=r=>{_e(t.store,t.ctx.emit,()=>{var d;if((d=t?.props)==null?void 0:d.nodeKey){const D=y(n.node);t.store.value.setCurrentNodeKey(D)}else t.store.value.setCurrentNode(n.node)}),t.currentNode.value=n.node,t.props.expandOnClickNode&&_(),(t.props.checkOnClickNode||n.node.isLeaf&&t.props.checkOnClickLeaf&&n.showCheckbox)&&!n.node.disabled&&P(!n.node.checked),t.ctx.emit("node-click",n.node.data,n.node,f,r)},E=r=>{var d;(d=t.instance.vnode.props)!=null&&d.onNodeContextmenu&&(r.stopPropagation(),r.preventDefault()),t.ctx.emit("node-contextmenu",r,n.node.data,n.node,f)},_=()=>{n.node.isLeaf||(o.value?(t.ctx.emit("node-collapse",n.node.data,n.node,f),n.node.collapse()):n.node.expand(()=>{e.emit("node-expand",n.node.data,n.node,f)}))},P=r=>{const d=t?.props.checkStrictly,K=n.node.childNodes;!d&&K.length&&(r=K.some(D=>!D.isEffectivelyChecked)),n.node.setChecked(r,!d),De(()=>{const D=t.store.value;t.ctx.emit("check",n.node.data,{checkedNodes:D.getCheckedNodes(),checkedKeys:D.getCheckedKeys(),halfCheckedNodes:D.getHalfCheckedNodes(),halfCheckedKeys:D.getHalfCheckedKeys()})})};return{ns:s,node$:m,tree:t,expanded:o,childNodeRendered:l,oldChecked:i,oldIndeterminate:g,getNodeKey:y,getNodeClass:C,handleSelectChange:b,handleClick:N,handleContextMenu:E,handleExpandIconClick:_,handleCheckChange:P,handleChildNodeExpand:(r,d,K)=>{a(d),t.ctx.emit("node-expand",r,d,K)},handleDragStart:r=>{t.props.draggable&&u.treeNodeDragStart({event:r,treeNode:n})},handleDragOver:r=>{r.preventDefault(),t.props.draggable&&u.treeNodeDragOver({event:r,treeNode:{$el:m.value,node:n.node}})},handleDrop:r=>{r.preventDefault()},handleDragEnd:r=>{t.props.draggable&&u.treeNodeDragEnd(r)},CaretRight:Tt}}}),rn=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],cn=["aria-expanded"];function un(n,e,s,a,t,o){const l=G("el-icon"),i=G("el-checkbox"),g=G("loading"),m=G("node-content"),u=G("el-tree-node"),f=G("el-collapse-transition");return Ke((T(),ee("div",{ref:"node$",class:M([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:e[2]||(e[2]=H((...p)=>n.handleClick&&n.handleClick(...p),["stop"])),onContextmenu:e[3]||(e[3]=(...p)=>n.handleContextMenu&&n.handleContextMenu(...p)),onDragstart:e[4]||(e[4]=H((...p)=>n.handleDragStart&&n.handleDragStart(...p),["stop"])),onDragover:e[5]||(e[5]=H((...p)=>n.handleDragOver&&n.handleDragOver(...p),["stop"])),onDragend:e[6]||(e[6]=H((...p)=>n.handleDragEnd&&n.handleDragEnd(...p),["stop"])),onDrop:e[7]||(e[7]=H((...p)=>n.handleDrop&&n.handleDrop(...p),["stop"]))},[$("div",{class:M(n.ns.be("node","content")),style:Ue({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(T(),V(l,{key:0,class:M([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:H(n.handleExpandIconClick,["stop"])},{default:v(()=>[(T(),V(He(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):ae("v-if",!0),n.showCheckbox?(T(),V(i,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:e[0]||(e[0]=H(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ae("v-if",!0),n.node.loading?(T(),V(l,{key:2,class:M([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:v(()=>[h(g)]),_:1},8,["class"])):ae("v-if",!0),h(m,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),h(f,null,{default:v(()=>[!n.renderAfterExpand||n.childNodeRendered?Ke((T(),ee("div",{key:0,class:M(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded,onClick:e[1]||(e[1]=H(()=>{},["stop"]))},[(T(!0),ee(Fe,null,je(n.node.childNodes,p=>(T(),V(u,{key:n.getNodeKey(p),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:p,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,cn)),[[xe,n.expanded]]):ae("v-if",!0)]),_:1})],42,rn)),[[xe,n.node.visible]])}var hn=ie(ln,[["render",un],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function fn({el$:n},e){const s=X("tree");Ie(()=>{o()}),Me(()=>{var l;(l=n.value)==null||l.querySelectorAll("input[type=checkbox]").forEach(i=>{i.setAttribute("tabindex","-1")})});function a(l,i){var g,m;const u=e.value.getNode(l[i].dataset.key);return u.canFocus&&u.visible&&(((g=u.parent)==null?void 0:g.expanded)||((m=u.parent)==null?void 0:m.level)===0)}It(n,"keydown",l=>{const i=l.target;if(!i.className.includes(s.b("node")))return;const g=Bt(l),m=Array.from(n.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`)),u=m.indexOf(i);let f;if([q.up,q.down].includes(g)){if(l.preventDefault(),g===q.up){f=u===-1?0:u!==0?u-1:m.length-1;const y=f;for(;!a(m,f);){if(f--,f===y){f=-1;break}f<0&&(f=m.length-1)}}else{f=u===-1?0:u<m.length-1?u+1:0;const y=f;for(;!a(m,f);){if(f++,f===y){f=-1;break}f>=m.length&&(f=0)}}f!==-1&&m[f].focus()}[q.left,q.right].includes(g)&&(l.preventDefault(),i.click());const p=i.querySelector('[type="checkbox"]');[q.enter,q.numpadEnter,q.space].includes(g)&&p&&(l.preventDefault(),p.click())});const o=()=>{var l;if(!n.value)return;const i=Array.from(n.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`));Array.from(n.value.querySelectorAll("input[type=checkbox]")).forEach(u=>{u.setAttribute("tabindex","-1")});const m=n.value.querySelectorAll(`.${s.is("checked")}[role=treeitem]`);if(m.length){m[0].setAttribute("tabindex","0");return}(l=i[0])==null||l.setAttribute("tabindex","0")}}const pn=Le({data:{type:pe(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:pe(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:pe(Function)},allowDrop:{type:pe(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:Pt}}),gn={"check-change":(n,e,s)=>n&&Ee(e)&&Ee(s),"current-change":(n,e)=>!0,"node-click":(n,e,s,a)=>n&&e&&a instanceof Event,"node-contextmenu":(n,e,s,a)=>n instanceof Event&&e&&s,"node-collapse":(n,e,s)=>n&&e,"node-expand":(n,e,s)=>n&&e,check:(n,e)=>n&&e,"node-drag-start":(n,e)=>n&&e,"node-drag-end":(n,e,s,a)=>n&&a,"node-drop":(n,e,s,a)=>n&&e&&a,"node-drag-leave":(n,e,s)=>n&&e&&s,"node-drag-enter":(n,e,s)=>n&&e&&s,"node-drag-over":(n,e,s)=>n&&e&&s},mn=ne({name:"ElTree",components:{ElTreeNode:hn},props:pn,emits:gn,setup(n,e){const{t:s}=At(),a=X("tree"),t=x(new sn({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));t.value.initialize();const o=x(t.value.root),l=x(null),i=x(null),g=x(null),{broadcastExpanded:m}=Ge(n),{dragState:u}=dn({props:n,ctx:e,el$:i,dropIndicator$:g,store:t});fn({el$:i},t);const f=Re(),p=ke(()=>{let c=f?.parent;for(;c;){if(c.type.name==="ElTreeSelect")return!0;c=c.parent}return!1}),y=ke(()=>{const{childNodes:c}=o.value;return(!c||c.length===0||c.every(({visible:k})=>!k))&&!p.value});U(()=>n.currentNodeKey,c=>{t.value.setCurrentNodeKey(c??null)}),U(()=>n.defaultCheckedKeys,(c,k)=>{zt(c,k)||t.value.setDefaultCheckedKey(c??[])}),U(()=>n.defaultExpandedKeys,c=>{t.value.setDefaultExpandedKeys(c??[])}),U(()=>n.data,c=>{t.value.setData(c)},{deep:!0}),U(()=>n.checkStrictly,c=>{t.value.checkStrictly=c});const C=c=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");t.value.filter(c)},b=c=>Be(n.nodeKey,c.data),N=c=>{if(!n.nodeKey)throw new Error(`[Tree] nodeKey is required in ${c}`)},E=c=>{N("getNodePath");const k=t.value.getNode(c);if(!k)return[];const j=[k.data];let W=k.parent;for(;W&&W!==o.value;)j.push(W.data),W=W.parent;return j.reverse()},_=(c,k)=>t.value.getCheckedNodes(c,k),P=c=>t.value.getCheckedKeys(c),I=()=>{const c=t.value.getCurrentNode();return c?c.data:null},F=()=>{N("getCurrentKey");const c=I();return c?c[n.nodeKey]:null},R=(c,k)=>{N("setCheckedNodes"),t.value.setCheckedNodes(c,k)},S=(c,k)=>{N("setCheckedKeys"),t.value.setCheckedKeys(c,k)},Z=(c,k,j)=>{t.value.setChecked(c,k,j)},r=()=>t.value.getHalfCheckedNodes(),d=()=>t.value.getHalfCheckedKeys(),K=(c,k=!0)=>{N("setCurrentNode"),_e(t,e.emit,()=>{m(c),t.value.setUserCurrentNode(c,k)})},D=(c=null,k=!0)=>{N("setCurrentKey"),_e(t,e.emit,()=>{m(),t.value.setCurrentNodeKey(c,k)})},Y=c=>t.value.getNode(c),Ne=c=>{t.value.remove(c)},A=(c,k)=>{t.value.append(c,k)},ce=(c,k)=>{t.value.insertBefore(c,k)},ue=(c,k)=>{t.value.insertAfter(c,k)},L=(c,k,j)=>{m(k),e.emit("node-expand",c,k,j)},he=(c,k)=>{N("updateKeyChild"),t.value.updateChildren(c,k)};return re(Pe,{ctx:e,props:n,store:t,root:o,currentNode:l,instance:f}),re(nt,void 0),{ns:a,store:t,root:o,currentNode:l,dragState:u,el$:i,dropIndicator$:g,isEmpty:y,filter:C,getNodeKey:b,getNodePath:E,getCheckedNodes:_,getCheckedKeys:P,getCurrentNode:I,getCurrentKey:F,setCheckedNodes:R,setCheckedKeys:S,setChecked:Z,getHalfCheckedNodes:r,getHalfCheckedKeys:d,setCurrentNode:K,setCurrentKey:D,t:s,getNode:Y,remove:Ne,append:A,insertBefore:ce,insertAfter:ue,handleNodeExpand:L,updateKeyChildren:he}}});function yn(n,e,s,a,t,o){const l=G("el-tree-node");return T(),ee("div",{ref:"el$",class:M([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(T(!0),ee(Fe,null,je(n.root.childNodes,i=>(T(),V(l,{key:n.getNodeKey(i),node:i,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(T(),ee("div",{key:0,class:M(n.ns.e("empty-block"))},[ve(n.$slots,"empty",{},()=>{var i;return[$("span",{class:M(n.ns.e("empty-text"))},oe((i=n.emptyText)!=null?i:n.t("el.tree.emptyText")),3)]})],2)):ae("v-if",!0),Ke($("div",{ref:"dropIndicator$",class:M(n.ns.e("drop-indicator"))},null,2),[[xe,n.dragState.showDropIndicator]])],2)}var vn=ie(mn,[["render",yn],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);const Nn=Te(vn),Cn={class:"action-buttons"},kn={class:"pagination-container"},bn={class:"permission-assignment"},En={class:"permission-list"},wn={class:"permission-tree-node"},Dn={class:"permission-code"},Kn={class:"dialog-footer"},xn=ne({__name:"UserCenterView",setup(n){const e=async()=>{try{const r={page:a.value.page,pageSize:a.value.pageSize,username:s.value.username,status:s.value.status},d=await Vt(r);t.value=d.list,a.value.total=d.total}catch(r){B.error("获取用户列表失败："+(r.message||"未知错误"))}},s=x({username:"",status:void 0}),a=x({page:1,pageSize:10,total:0}),t=x([]),o=async()=>{a.value.page=1,await e(),B.success("搜索完成")},l=async()=>{s.value={username:"",status:void 0},a.value.page=1,await e(),B.success("重置完成")},i=async r=>{a.value.pageSize=r,await e()},g=async r=>{a.value.page=r,await e()},m=()=>{B.success("新增用户功能已实现")},u=r=>{B.success("编辑用户功能已实现")},f=async r=>{try{await Wt.confirm(`确定要删除用户「${r.username}」吗？此操作不可撤销。`,"删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning",customClass:"delete-confirm-message-box",confirmButtonClass:"delete-confirm-btn",distinguishCancelAndClose:!0,autofocus:!1}),await Ft(r.id),await e(),B.success("删除成功")}catch(d){d!=="cancel"&&d!=="close"&&(B.error("删除失败："+(d.message||"未知错误")),console.error("删除用户失败:",d))}},p=async r=>{try{const d={...r,status:r.status};await jt(d),B.success(`用户「${r.username}」状态已更新为${r.status==="active"?"启用":"禁用"}`)}catch(d){B.error("状态更新失败："+(d.message||"未知错误"))}},y=x(!1),C=x(null),b=x([]),N=x([]),E=x({page:1,pageSize:100,name:"",code:"",module:""}),_={label:"name",children:"children"},P=async r=>{C.value=r,await I(),await F(r.id),y.value=!0},I=async()=>{try{const r=await qt(E.value);b.value=r.list}catch(r){B.error("获取权限列表失败："+(r.message||"未知错误"))}},F=async r=>{try{const d=await Rt(r);d?N.value=d.permissions:N.value=[]}catch(d){B.error("加载用户权限失败："+(d.message||"未知错误")),N.value=[]}},R=()=>{E.value={page:1,pageSize:100,name:"",code:"",module:""},I()},S=()=>{},Z=async()=>{if(C.value)try{await Yt({userId:C.value.id,permissionIds:N.value}),y.value=!1,B.success("权限分配成功")}catch(r){B.error("权限分配失败："+(r.message||"未知错误"))}};return Ie(async()=>{await e()}),(r,d)=>{const K=mt,D=gt,Y=lt,Ne=dt,A=st,ce=pt,ue=vt,L=it,he=ft,c=yt,k=qe,j=rt,W=ct,Qe=Nn,Xe=ht,Ze=ut,et=at;return T(),V(Ht,{title:"用户中心",actions:[{type:"primary",text:"新增用户",icon:se(Mt),onClick:m}]},{default:v(()=>[h(ue,{shadow:"never",class:"search-form"},{default:v(()=>[h(ce,{inline:!0,onSubmit:H(o,["prevent"])},{default:v(()=>[h(D,{label:"用户名称"},{default:v(()=>[h(K,{modelValue:s.value.username,"onUpdate:modelValue":d[0]||(d[0]=w=>s.value.username=w),placeholder:"请输入用户名称",clearable:"",onKeyup:ge(o,["enter"])},null,8,["modelValue"])]),_:1}),h(D,{label:"用户状态"},{default:v(()=>[h(Ne,{modelValue:s.value.status,"onUpdate:modelValue":d[1]||(d[1]=w=>s.value.status=w),placeholder:"请选择用户状态",clearable:""},{default:v(()=>[h(Y,{label:"启用",value:"active"}),h(Y,{label:"禁用",value:"inactive"})]),_:1},8,["modelValue"])]),_:1}),h(D,null,{default:v(()=>[h(A,{type:"primary",onClick:o},{default:v(()=>[...d[10]||(d[10]=[O("搜索",-1)])]),_:1}),h(A,{onClick:l},{default:v(()=>[...d[11]||(d[11]=[O("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),h(ue,{shadow:"never",class:"table-container"},{default:v(()=>[h(j,{data:t.value,border:"",style:{width:"100%"}},{default:v(()=>[h(L,{prop:"id",label:"用户ID",width:"80",align:"center"}),h(L,{prop:"username",label:"用户名称","min-width":"150"}),h(L,{prop:"email",label:"邮箱","min-width":"200"}),h(L,{prop:"phone",label:"电话",width:"150"}),h(L,{prop:"role",label:"角色",width:"100",align:"center"},{default:v(w=>[h(he,{type:w.row.role==="admin"?"primary":"success"},{default:v(()=>[O(oe(w.row.role==="admin"?"管理员":"普通用户"),1)]),_:2},1032,["type"])]),_:1}),h(L,{prop:"status",label:"状态",width:"100",align:"center"},{default:v(w=>[h(c,{modelValue:w.row.status,"onUpdate:modelValue":z=>w.row.status=z,"active-value":"active","inactive-value":"inactive",onChange:z=>p(w.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),h(L,{prop:"createdAt",label:"创建时间",width:"180"}),h(L,{label:"操作",width:"250",fixed:"right",align:"center"},{default:v(w=>[$("div",Cn,[h(A,{type:"primary",size:"small",onClick:z=>u(w.row)},{default:v(()=>[h(k,null,{default:v(()=>[h(se(Ot))]),_:1}),d[12]||(d[12]=O(" 编辑 ",-1))]),_:1},8,["onClick"]),h(A,{type:"success",size:"small",onClick:z=>P(w.row)},{default:v(()=>[h(k,null,{default:v(()=>[h(se($t))]),_:1}),d[13]||(d[13]=O(" 分配权限 ",-1))]),_:1},8,["onClick"]),h(A,{type:"danger",size:"small",onClick:z=>f(w.row)},{default:v(()=>[h(k,null,{default:v(()=>[h(se(Lt))]),_:1}),d[14]||(d[14]=O(" 删除 ",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])]),_:1}),$("div",kn,[h(W,{"current-page":a.value.page,"onUpdate:currentPage":d[2]||(d[2]=w=>a.value.page=w),"page-size":a.value.pageSize,"onUpdate:pageSize":d[3]||(d[3]=w=>a.value.pageSize=w),"page-sizes":[10,20,50,100],total:a.value.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:i,onCurrentChange:g},null,8,["current-page","page-size","total"])]),h(et,{modelValue:y.value,"onUpdate:modelValue":d[9]||(d[9]=w=>y.value=w),title:`为用户 ${C.value?.username} 分配权限`,width:"800px","destroy-on-close":""},{footer:v(()=>[$("span",Kn,[h(A,{onClick:d[8]||(d[8]=w=>y.value=!1)},{default:v(()=>[...d[17]||(d[17]=[O("取消",-1)])]),_:1}),h(A,{type:"primary",onClick:Z},{default:v(()=>[...d[18]||(d[18]=[O("保存权限",-1)])]),_:1})])]),default:v(()=>[$("div",bn,[h(ce,{model:E.value,layout:"inline",size:"small",class:"permission-filter"},{default:v(()=>[h(D,{label:"权限名称"},{default:v(()=>[h(K,{modelValue:E.value.name,"onUpdate:modelValue":d[4]||(d[4]=w=>E.value.name=w),placeholder:"请输入权限名称",clearable:"",onKeyup:ge(I,["enter"])},null,8,["modelValue"])]),_:1}),h(D,{label:"权限编码"},{default:v(()=>[h(K,{modelValue:E.value.code,"onUpdate:modelValue":d[5]||(d[5]=w=>E.value.code=w),placeholder:"请输入权限编码",clearable:"",onKeyup:ge(I,["enter"])},null,8,["modelValue"])]),_:1}),h(D,{label:"所属模块"},{default:v(()=>[h(K,{modelValue:E.value.module,"onUpdate:modelValue":d[6]||(d[6]=w=>E.value.module=w),placeholder:"请输入所属模块",clearable:"",onKeyup:ge(I,["enter"])},null,8,["modelValue"])]),_:1}),h(D,null,{default:v(()=>[h(A,{type:"primary",onClick:I},{default:v(()=>[...d[15]||(d[15]=[O("查询",-1)])]),_:1}),h(A,{onClick:R},{default:v(()=>[...d[16]||(d[16]=[O("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),$("div",En,[h(Ze,{height:"400px"},{default:v(()=>[h(Xe,{modelValue:N.value,"onUpdate:modelValue":d[7]||(d[7]=w=>N.value=w)},{default:v(()=>[h(Qe,{data:b.value,props:_,"show-checkbox":"","default-expand-all":"","node-key":"id","check-strictly":!1,onCheck:S},{default:v(({node:w,data:z})=>[$("div",wn,[$("span",null,oe(w.label),1),$("span",Dn,oe(z.code),1),h(he,{type:z.type==="menu"?"primary":z.type==="button"?"success":"warning",size:"small",class:"permission-type-tag"},{default:v(()=>[O(oe(z.type==="menu"?"菜单":z.type==="button"?"按钮":"API"),1)]),_:2},1032,["type"])])]),_:1},8,["data"])]),_:1},8,["modelValue"])]),_:1})])])]),_:1},8,["modelValue","title"])]),_:1},8,["actions"])}}}),Un=Ut(xn,[["__scopeId","data-v-5512c52a"]]);export{Un as default};
