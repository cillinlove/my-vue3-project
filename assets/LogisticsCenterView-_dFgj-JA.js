/* empty css                  *//* empty css                             *//* empty css                  *//* empty css                        */import{E as We}from"./EditDialog-oSFQ-qm4.js";/* empty css                             *//* empty css                 *//* empty css               *//* empty css                */import{d as Ge,r as s,t as B,w as t,b as w,e,m as Je,l as ue,E as Qe,f as Xe,g as G,y as el,P as ll,h as al,j as r,x as tl,A as ol,B as rl,Q as nl,v as f,Y as J,G as il,i as _,aa as dl,H as ul,ai as sl,I as pl,J as cl,U as ml,ac as vl,N as gl,M as fe,$ as fl,C as bl,V as hl,W as yl,aj as wl,a8 as Vl,ag as xl,n as m,O as se,ah as Nl,p as F,_ as _l}from"./index-BSOYK04B.js";import{P as kl}from"./PageLayout-53LlZDnx.js";const Cl={class:"logistics-center"},Sl={class:"table-action-buttons"},Dl={class:"pagination-container"},Al={class:"pagination-container"},Tl={style:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},zl={style:{color:"#909399"}},Ul={style:{color:"#409EFF"}},El={style:{"margin-bottom":"16px"}},Pl={class:"pagination-container"},$l=Ge({__name:"LogisticsCenterView",setup(Yl){const V=s({trackingNo:"",orderNo:"",status:void 0,carrier:void 0}),x=s({page:1,pageSize:10,total:100}),k=s([{trackingNo:"SF1234567890123",orderNo:"O-20251205-001",carrier:"sf_express",status:"delivered",recipientName:"张三",recipientPhone:"13800138001",recipientAddress:"北京市朝阳区某某街道123号",estimatedDelivery:"2025-12-05 18:00:00",actualDelivery:"2025-12-05 16:30:00",createdAt:"2025-12-03 10:00:00"},{trackingNo:"ZT9876543210987",orderNo:"O-20251205-002",carrier:"zhongtong",status:"in_transit",recipientName:"李四",recipientPhone:"13800138002",recipientAddress:"上海市浦东新区某某街道456号",estimatedDelivery:"2025-12-06 18:00:00",actualDelivery:null,createdAt:"2025-12-04 14:30:00"},{trackingNo:"ST6543210987654",orderNo:"O-20251205-003",carrier:"shentong",status:"shipped",recipientName:"王五",recipientPhone:"13800138003",recipientAddress:"广州市天河区某某街道789号",estimatedDelivery:"2025-12-07 18:00:00",actualDelivery:null,createdAt:"2025-12-05 09:15:00"},{trackingNo:"YT3210987654321",orderNo:"O-20251205-004",carrier:"yuantong",status:"pending",recipientName:"赵六",recipientPhone:"13800138004",recipientAddress:"深圳市南山区某某街道321号",estimatedDelivery:null,actualDelivery:null,createdAt:"2025-12-05 11:45:00"},{trackingNo:"YD4567890123456",orderNo:"O-20251205-005",carrier:"yunda",status:"exception",recipientName:"孙七",recipientPhone:"13800138005",recipientAddress:"杭州市西湖区某某街道654号",estimatedDelivery:"2025-12-05 18:00:00",actualDelivery:null,createdAt:"2025-12-02 16:30:00"}]),q=s(!1),Q=s(!1),p=s({trackingNo:"",orderNo:"",carrier:"",recipientName:"",recipientPhone:"",recipientAddress:"",status:"",estimatedDelivery:""}),H=()=>{x.value.page=1,m.success("搜索完成")},be=()=>{V.value={trackingNo:"",orderNo:"",status:void 0,carrier:void 0},x.value.page=1,m.success("重置完成")},he=o=>{x.value.pageSize=o},ye=o=>{x.value.page=o},we=()=>{S.value={trackingNo:"",exceptionType:"",handled:""},y.value={page:1,pageSize:10,total:20},ne.value=!0},X=()=>{y.value.page=1,m.success("搜索完成")},Ve=()=>{S.value={trackingNo:"",exceptionType:"",handled:""},y.value.page=1},xe=o=>{y.value.pageSize=o},Ne=o=>{y.value.page=o},pe=o=>({delay:"warning",lost:"danger",damaged:"danger",signature:"info",address:"info",other:""})[o]||"",ce=o=>({delay:"延迟配送",lost:"包裹丢失",damaged:"包裹损坏",signature:"签收异常",address:"地址错误",other:"其他异常"})[o]||o,_e=o=>{b.value=o,E.value.solution=o.solution||"",L.value=!0},ke=async()=>{if(!E.value.solution.trim()){m.warning("请输入处理方案");return}try{ie.value=!0;const o=j.value.findIndex(l=>l.id===b.value.id);o>-1&&(j.value[o]={...j.value[o],handled:!0,handleTime:new Date().toLocaleString("zh-CN",{hour12:!1}),handler:"当前用户",solution:E.value.solution}),m.success("异常处理成功"),L.value=!1}catch(o){m.error(`处理异常失败: ${o.message}`)}finally{ie.value=!1}},Ce=o=>{m.info("追踪物流轨迹功能开发中")},Se=o=>{p.value={trackingNo:o.trackingNo,orderNo:o.orderNo,carrier:o.carrier,recipientName:o.recipientName,recipientPhone:o.recipientPhone,recipientAddress:o.recipientAddress,status:o.status,estimatedDelivery:o.estimatedDelivery},q.value=!0},De=async()=>{try{if(Q.value=!0,!p.value.recipientName||!p.value.recipientPhone||!p.value.recipientAddress){m.error("请填写完整的收件人信息");return}if(!/^1[3-9]\d{9}$/.test(p.value.recipientPhone)){m.error("请输入正确的手机号码");return}await new Promise(u=>setTimeout(u,1e3));const l=k.value.findIndex(u=>u.trackingNo===p.value.trackingNo);l!==-1&&k.value[l]&&Object.assign(k.value[l],{carrier:p.value.carrier,recipientName:p.value.recipientName,recipientPhone:p.value.recipientPhone,recipientAddress:p.value.recipientAddress,status:p.value.status,estimatedDelivery:p.value.estimatedDelivery}),q.value=!1,m.success("物流单信息已更新")}catch(o){m.error("更新物流单信息失败"),console.error("更新物流单失败:",o)}finally{Q.value=!1}},Ae=o=>{m.info("打印面单功能开发中")},Te=async o=>{try{await se.confirm(`确定要取消物流单「${o.trackingNo}」吗？此操作不可撤销。`,"取消物流单确认",{confirmButtonText:"确定取消",cancelButtonText:"保留物流单",type:"warning",customClass:"cancel-task-message-box",confirmButtonClass:"cancel-confirm-btn",distinguishCancelAndClose:!0,autofocus:!1}),m.success("物流单已取消")}catch(l){l!=="cancel"&&l!=="close"&&(m.error("取消物流单失败"),console.error("取消物流单失败:",l))}},M=s(!1),ee=s(!1),le=s(),v=s({orderNo:"",carrier:"",recipientName:"",recipientPhone:"",recipientAddress:"",estimatedDelivery:"",remark:""}),ze={orderNo:[{required:!0,message:"请输入订单号",trigger:"blur"}],carrier:[{required:!0,message:"请选择物流商",trigger:"change"}],recipientName:[{required:!0,message:"请输入收件人姓名",trigger:"blur"}],recipientPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],recipientAddress:[{required:!0,message:"请输入收货地址",trigger:"blur"}]},Ue=()=>{v.value={orderNo:"",carrier:"",recipientName:"",recipientPhone:"",recipientAddress:"",estimatedDelivery:"",remark:""},M.value=!0},Ee=async()=>{if(le.value)try{await le.value.validate();const o={trackingNo:`${v.value.carrier.toUpperCase()}${Date.now()}${Math.random().toString(36).substr(2,9).toUpperCase()}`,orderNo:v.value.orderNo,carrier:v.value.carrier,status:"pending",recipientName:v.value.recipientName,recipientPhone:v.value.recipientPhone,recipientAddress:v.value.recipientAddress,estimatedDelivery:v.value.estimatedDelivery,actualDelivery:null,createdAt:new Date().toLocaleString("zh-CN",{hour12:!1})};ee.value=!0,await new Promise(l=>setTimeout(l,1e3)),k.value.unshift(o),M.value=!1,m.success("物流单创建成功")}catch(o){o!==!1&&m.error(`创建物流单失败: ${o.message}`)}finally{ee.value=!1}},O=s(!1),ae=s(!1),me=s([]),C=s([]),z=s({orderNo:"",status:""}),h=s({page:1,pageSize:10,total:50}),Pe=async()=>{z.value={orderNo:"",status:""},h.value={page:1,pageSize:10,total:50},C.value=[],me.value=k.value.filter(o=>o.status==="pending"||o.status==="shipped").map(o=>({...o})),O.value=!0},te=()=>{h.value.page=1,m.success("搜索完成")},$e=()=>{z.value={orderNo:"",status:""},h.value.page=1},Ye=o=>{C.value=o},Be=o=>{h.value.pageSize=o},Fe=o=>{h.value.page=o},Me=async()=>{try{await se.confirm(`确定要批量发货 ${C.value.length} 个物流单吗？`,"批量发货确认",{confirmButtonText:"确认发货",cancelButtonText:"取消",type:"warning"}),ae.value=!0,await new Promise(o=>setTimeout(o,1500));for(const o of C.value)if(o.status==="pending"){o.status="shipped";const l=k.value.findIndex(u=>u.trackingNo===o.trackingNo);if(l>-1){const u=k.value[l];u&&(u.status="shipped")}}m.success(`成功发货 ${C.value.length} 个物流单`),O.value=!1}catch(o){o!=="cancel"&&m.error(`批量发货失败: ${o.message}`)}finally{ae.value=!1}},oe=s(!1),U=s(!1),I=s(!1),Oe=s(!1),re=s(),c=s({id:0,name:"",code:"",contact:"",phone:"",serviceArea:"",status:!0}),Ie={name:[{required:!0,message:"请输入物流商名称",trigger:"blur"}],code:[{required:!0,message:"请输入物流商编码",trigger:"blur"}],contact:[{required:!0,message:"请输入联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}]},A=s([{id:1,name:"顺丰速运",code:"SF",contact:"张先生",phone:"400-811-1111",serviceArea:"全国",status:"active",createdAt:"2024-01-15 10:30:00"},{id:2,name:"中通快递",code:"ZTO",contact:"李女士",phone:"400-800-0000",serviceArea:"全国",status:"active",createdAt:"2024-01-15 10:30:00"},{id:3,name:"圆通速递",code:"YTO",contact:"王先生",phone:"400-888-8888",serviceArea:"全国",status:"active",createdAt:"2024-01-15 10:30:00"},{id:4,name:"韵达速递",code:"YD",contact:"赵女士",phone:"400-821-6789",serviceArea:"全国",status:"active",createdAt:"2024-01-15 10:30:00"},{id:5,name:"申通快递",code:"STO",contact:"刘先生",phone:"400-889-8888",serviceArea:"全国",status:"inactive",createdAt:"2024-01-15 10:30:00"}]),Le=()=>{oe.value=!0},Re=()=>{c.value={id:0,name:"",code:"",contact:"",phone:"",serviceArea:"",status:!0},I.value=!1,U.value=!0},qe=o=>{c.value={id:o.id,name:o.name,code:o.code,contact:o.contact,phone:o.phone,serviceArea:o.serviceArea,status:o.status==="active"},I.value=!0,U.value=!0},He=async o=>{try{await se.confirm(`确定要删除物流商"${o.name}"吗？`,"删除确认",{confirmButtonText:"确认删除",cancelButtonText:"取消",type:"warning"});const l=A.value.findIndex(u=>u.id===o.id);l>-1&&A.value.splice(l,1),m.success("物流商删除成功")}catch(l){l!=="cancel"&&m.error(`删除物流商失败: ${l.message}`)}},je=async()=>{if(re.value)try{if(await re.value.validate(),I.value){const o=A.value.findIndex(l=>l.id===c.value.id);if(o>-1){const l=A.value[o];A.value[o]={id:l.id,name:c.value.name,code:c.value.code,contact:c.value.contact,phone:c.value.phone,serviceArea:c.value.serviceArea,status:c.value.status?"active":"inactive",createdAt:l.createdAt}}m.success("物流商更新成功")}else{const o={id:Date.now(),name:c.value.name,code:c.value.code,contact:c.value.contact,phone:c.value.phone,serviceArea:c.value.serviceArea,status:c.value.status?"active":"inactive",createdAt:new Date().toLocaleString("zh-CN",{hour12:!1})};A.value.push(o),m.success("物流商添加成功")}U.value=!1}catch(o){o!==!1&&m.error(`保存物流商失败: ${o.message}`)}},ne=s(!1),L=s(!1),ie=s(!1),b=s(null),S=s({trackingNo:"",exceptionType:"",handled:""}),y=s({page:1,pageSize:10,total:20}),E=s({solution:""}),j=s([{id:1,trackingNo:"SF1234567890",orderNo:"O-20251205-001",exceptionType:"delay",description:"包裹在转运中心滞留超过48小时",exceptionTime:"2024-01-20 14:30:00",handled:!1,handleTime:"",handler:"",solution:""},{id:2,trackingNo:"ZTO0987654321",orderNo:"O-20251205-002",exceptionType:"damaged",description:"外包装破损，商品可能受损",exceptionTime:"2024-01-19 09:15:00",handled:!0,handleTime:"2024-01-19 16:00:00",handler:"张三",solution:"已联系快递公司核实，预计2个工作日内处理完毕"},{id:3,trackingNo:"YT1122334455",orderNo:"O-20251205-003",exceptionType:"lost",description:"包裹在派送过程中丢失",exceptionTime:"2024-01-18 11:00:00",handled:!1,handleTime:"",handler:"",solution:""},{id:4,trackingNo:"YD5566778899",orderNo:"O-20251205-004",exceptionType:"signature",description:"收件人反映未收到包裹但显示已签收",exceptionTime:"2024-01-17 16:45:00",handled:!0,handleTime:"2024-01-18 10:30:00",handler:"李四",solution:"核实签收记录，确认是代收点代签，已安排重新派送"}]);return(o,l)=>{const u=Xe,d=Qe,i=ll,D=el,g=al,T=Je,K=tl,n=rl,N=nl,R=il,Z=ol,de=cl,ve=ml,ge=vl,P=gl,Ke=fl,$=yl,Ze=hl,W=Nl("permission");return F(),B(kl,{title:"物流中心",actions:[{type:"primary",text:"创建物流单",icon:_(fe),onClick:Ue},{type:"success",text:"批量发货",icon:_(wl),onClick:Pe},{type:"info",text:"物流商管理",icon:_(Vl),onClick:Le},{type:"warning",text:"异常追踪",icon:_(xl),onClick:we}]},{default:t(()=>[w("div",Cl,[e(K,{shadow:"never",class:"search-form"},{default:t(()=>[e(T,{inline:!0,onSubmit:ue(H,["prevent"])},{default:t(()=>[e(d,{label:"物流单号"},{default:t(()=>[e(u,{modelValue:V.value.trackingNo,"onUpdate:modelValue":l[0]||(l[0]=a=>V.value.trackingNo=a),placeholder:"请输入物流单号",clearable:"",onKeyup:G(H,["enter"])},null,8,["modelValue"])]),_:1}),e(d,{label:"订单号"},{default:t(()=>[e(u,{modelValue:V.value.orderNo,"onUpdate:modelValue":l[1]||(l[1]=a=>V.value.orderNo=a),placeholder:"请输入订单号",clearable:"",onKeyup:G(H,["enter"])},null,8,["modelValue"])]),_:1}),e(d,{label:"物流状态"},{default:t(()=>[e(D,{modelValue:V.value.status,"onUpdate:modelValue":l[2]||(l[2]=a=>V.value.status=a),placeholder:"请选择物流状态",clearable:""},{default:t(()=>[e(i,{label:"待发货",value:"pending"}),e(i,{label:"已发货",value:"shipped"}),e(i,{label:"运输中",value:"in_transit"}),e(i,{label:"已签收",value:"delivered"}),e(i,{label:"异常",value:"exception"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"物流商"},{default:t(()=>[e(D,{modelValue:V.value.carrier,"onUpdate:modelValue":l[3]||(l[3]=a=>V.value.carrier=a),placeholder:"请选择物流商",clearable:""},{default:t(()=>[e(i,{label:"顺丰速运",value:"sf_express"}),e(i,{label:"中通快递",value:"zhongtong"}),e(i,{label:"申通快递",value:"shentong"}),e(i,{label:"圆通快递",value:"yuantong"}),e(i,{label:"韵达快递",value:"yunda"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(g,{type:"primary",onClick:H},{default:t(()=>[...l[48]||(l[48]=[r("搜索",-1)])]),_:1}),e(g,{onClick:be},{default:t(()=>[...l[49]||(l[49]=[r("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(K,{shadow:"never",class:"table-container"},{default:t(()=>[e(Z,{data:k.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(n,{prop:"trackingNo",label:"物流单号","min-width":"180"}),e(n,{prop:"orderNo",label:"订单号","min-width":"180"}),e(n,{prop:"carrier",label:"物流商",width:"120",align:"center"},{default:t(a=>[e(N,{type:"primary"},{default:t(()=>[r(f(a.row.carrier==="sf_express"?"顺丰速运":a.row.carrier==="zhongtong"?"中通快递":a.row.carrier==="shentong"?"申通快递":a.row.carrier==="yuantong"?"圆通快递":"韵达快递"),1)]),_:2},1024)]),_:1}),e(n,{prop:"status",label:"物流状态",width:"120",align:"center"},{default:t(a=>[e(N,{type:a.row.status==="pending"?"info":a.row.status==="shipped"?"warning":a.row.status==="in_transit"||a.row.status==="delivered"?"success":"danger"},{default:t(()=>[r(f(a.row.status==="pending"?"待发货":a.row.status==="shipped"?"已发货":a.row.status==="in_transit"?"运输中":a.row.status==="delivered"?"已签收":"异常"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"recipientName",label:"收件人",width:"120"}),e(n,{prop:"recipientPhone",label:"联系电话",width:"150"}),e(n,{prop:"recipientAddress",label:"收货地址","min-width":"200"}),e(n,{prop:"estimatedDelivery",label:"预计送达",width:"180"}),e(n,{prop:"actualDelivery",label:"实际送达",width:"180"}),e(n,{prop:"createdAt",label:"创建时间",width:"180"}),e(n,{label:"操作",width:"300",fixed:"right",align:"center"},{default:t(a=>[w("div",Sl,[J((F(),B(g,{type:"primary",size:"small",onClick:Y=>Ce(a.row)},{default:t(()=>[e(R,null,{default:t(()=>[e(_(dl))]),_:1}),l[50]||(l[50]=r(" 追踪 ",-1))]),_:1},8,["onClick"])),[[W,"logistics_view"]]),J((F(),B(g,{type:"warning",size:"small",onClick:Y=>Se(a.row)},{default:t(()=>[e(R,null,{default:t(()=>[e(_(ul))]),_:1}),l[51]||(l[51]=r(" 编辑 ",-1))]),_:1},8,["onClick"])),[[W,"logistics_edit"]]),J((F(),B(g,{type:"info",size:"small",onClick:Y=>Ae(a.row)},{default:t(()=>[e(R,null,{default:t(()=>[e(_(sl))]),_:1}),l[52]||(l[52]=r(" 打印 ",-1))]),_:1},8,["onClick"])),[[W,"logistics_print"]]),J((F(),B(g,{type:"danger",size:"small",onClick:Y=>Te(a.row),disabled:a.row.status!=="pending"},{default:t(()=>[e(R,null,{default:t(()=>[e(_(pl))]),_:1}),l[53]||(l[53]=r(" 取消 ",-1))]),_:1},8,["onClick","disabled"])),[[W,"logistics_cancel"]])])]),_:1})]),_:1},8,["data"])]),_:1}),w("div",Dl,[e(de,{"current-page":x.value.page,"onUpdate:currentPage":l[4]||(l[4]=a=>x.value.page=a),"page-size":x.value.pageSize,"onUpdate:pageSize":l[5]||(l[5]=a=>x.value.pageSize=a),"page-sizes":[10,20,50,100],total:x.value.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:he,onCurrentChange:ye},null,8,["current-page","page-size","total"])])]),e(We,{modelValue:q.value,"onUpdate:modelValue":l[14]||(l[14]=a=>q.value=a),title:"编辑物流单","is-loading":Q.value,onConfirm:De},{default:t(()=>[e(T,{model:p.value,"label-width":"120px"},{default:t(()=>[e(d,{label:"物流单号"},{default:t(()=>[e(u,{modelValue:p.value.trackingNo,"onUpdate:modelValue":l[6]||(l[6]=a=>p.value.trackingNo=a),disabled:""},null,8,["modelValue"])]),_:1}),e(d,{label:"订单号"},{default:t(()=>[e(u,{modelValue:p.value.orderNo,"onUpdate:modelValue":l[7]||(l[7]=a=>p.value.orderNo=a),disabled:""},null,8,["modelValue"])]),_:1}),e(d,{label:"物流商"},{default:t(()=>[e(D,{modelValue:p.value.carrier,"onUpdate:modelValue":l[8]||(l[8]=a=>p.value.carrier=a),placeholder:"请选择物流商"},{default:t(()=>[e(i,{label:"顺丰速运",value:"sf_express"}),e(i,{label:"中通快递",value:"zhongtong"}),e(i,{label:"申通快递",value:"shentong"}),e(i,{label:"圆通快递",value:"yuantong"}),e(i,{label:"韵达快递",value:"yunda"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"收件人姓名"},{default:t(()=>[e(u,{modelValue:p.value.recipientName,"onUpdate:modelValue":l[9]||(l[9]=a=>p.value.recipientName=a),placeholder:"请输入收件人姓名"},null,8,["modelValue"])]),_:1}),e(d,{label:"联系电话"},{default:t(()=>[e(u,{modelValue:p.value.recipientPhone,"onUpdate:modelValue":l[10]||(l[10]=a=>p.value.recipientPhone=a),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),e(d,{label:"收货地址"},{default:t(()=>[e(u,{modelValue:p.value.recipientAddress,"onUpdate:modelValue":l[11]||(l[11]=a=>p.value.recipientAddress=a),type:"textarea",rows:3,placeholder:"请输入收货地址"},null,8,["modelValue"])]),_:1}),e(d,{label:"物流状态"},{default:t(()=>[e(D,{modelValue:p.value.status,"onUpdate:modelValue":l[12]||(l[12]=a=>p.value.status=a),placeholder:"请选择物流状态"},{default:t(()=>[e(i,{label:"待发货",value:"pending"}),e(i,{label:"已发货",value:"shipped"}),e(i,{label:"运输中",value:"in_transit"}),e(i,{label:"已签收",value:"delivered"}),e(i,{label:"异常",value:"exception"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"预计送达时间"},{default:t(()=>[e(ve,{modelValue:p.value.estimatedDelivery,"onUpdate:modelValue":l[13]||(l[13]=a=>p.value.estimatedDelivery=a),type:"datetime",placeholder:"请选择预计送达时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","is-loading"]),e(P,{modelValue:M.value,"onUpdate:modelValue":l[23]||(l[23]=a=>M.value=a),title:"创建物流单",width:"600px","close-on-click-modal":!1},{footer:t(()=>[e(g,{onClick:l[22]||(l[22]=a=>M.value=!1)},{default:t(()=>[...l[55]||(l[55]=[r("取消",-1)])]),_:1}),e(g,{type:"primary",loading:ee.value,onClick:Ee},{default:t(()=>[...l[56]||(l[56]=[r(" 创建物流单 ",-1)])]),_:1},8,["loading"])]),default:t(()=>[e(T,{ref_key:"createFormRef",ref:le,model:v.value,rules:ze,"label-width":"120px"},{default:t(()=>[e(d,{label:"订单号",prop:"orderNo"},{default:t(()=>[e(u,{modelValue:v.value.orderNo,"onUpdate:modelValue":l[15]||(l[15]=a=>v.value.orderNo=a),placeholder:"请输入订单号",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"物流商",prop:"carrier"},{default:t(()=>[e(D,{modelValue:v.value.carrier,"onUpdate:modelValue":l[16]||(l[16]=a=>v.value.carrier=a),placeholder:"请选择物流商",style:{width:"100%"},clearable:""},{default:t(()=>[e(i,{label:"顺丰速运",value:"sf_express"}),e(i,{label:"中通快递",value:"zhongtong"}),e(i,{label:"申通快递",value:"shentong"}),e(i,{label:"圆通快递",value:"yuantong"}),e(i,{label:"韵达快递",value:"yunda"})]),_:1},8,["modelValue"])]),_:1}),e(ge,{"content-position":"left"},{default:t(()=>[...l[54]||(l[54]=[r("收件人信息",-1)])]),_:1}),e(d,{label:"收件人姓名",prop:"recipientName"},{default:t(()=>[e(u,{modelValue:v.value.recipientName,"onUpdate:modelValue":l[17]||(l[17]=a=>v.value.recipientName=a),placeholder:"请输入收件人姓名",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"联系电话",prop:"recipientPhone"},{default:t(()=>[e(u,{modelValue:v.value.recipientPhone,"onUpdate:modelValue":l[18]||(l[18]=a=>v.value.recipientPhone=a),placeholder:"请输入联系电话",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"收货地址",prop:"recipientAddress"},{default:t(()=>[e(u,{modelValue:v.value.recipientAddress,"onUpdate:modelValue":l[19]||(l[19]=a=>v.value.recipientAddress=a),type:"textarea",rows:3,placeholder:"请输入收货地址"},null,8,["modelValue"])]),_:1}),e(d,{label:"预计送达时间"},{default:t(()=>[e(ve,{modelValue:v.value.estimatedDelivery,"onUpdate:modelValue":l[20]||(l[20]=a=>v.value.estimatedDelivery=a),type:"datetime",placeholder:"请选择预计送达时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(d,{label:"备注"},{default:t(()=>[e(u,{modelValue:v.value.remark,"onUpdate:modelValue":l[21]||(l[21]=a=>v.value.remark=a),type:"textarea",rows:3,placeholder:"请输入备注信息（选填）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(P,{modelValue:O.value,"onUpdate:modelValue":l[29]||(l[29]=a=>O.value=a),title:"批量发货",width:"900px","close-on-click-modal":!1},{footer:t(()=>[w("div",Tl,[w("span",zl,[l[59]||(l[59]=r(" 已选择 ",-1)),w("strong",Ul,f(C.value.length),1),l[60]||(l[60]=r(" 个物流单 ",-1))]),w("div",null,[e(g,{onClick:l[28]||(l[28]=a=>O.value=!1)},{default:t(()=>[...l[61]||(l[61]=[r("取消",-1)])]),_:1}),e(g,{type:"primary",loading:ae.value,disabled:C.value.length===0,onClick:Me},{default:t(()=>[r(" 确认批量发货 ("+f(C.value.length)+") ",1)]),_:1},8,["loading","disabled"])])])]),default:t(()=>[e(K,{shadow:"never",class:"search-form",style:{"margin-bottom":"16px"}},{default:t(()=>[e(T,{inline:!0,onSubmit:ue(te,["prevent"])},{default:t(()=>[e(d,{label:"订单号"},{default:t(()=>[e(u,{modelValue:z.value.orderNo,"onUpdate:modelValue":l[24]||(l[24]=a=>z.value.orderNo=a),placeholder:"请输入订单号",clearable:"",onKeyup:G(te,["enter"])},null,8,["modelValue"])]),_:1}),e(d,{label:"物流状态"},{default:t(()=>[e(D,{modelValue:z.value.status,"onUpdate:modelValue":l[25]||(l[25]=a=>z.value.status=a),placeholder:"请选择状态",clearable:""},{default:t(()=>[e(i,{label:"待发货",value:"pending"}),e(i,{label:"已发货",value:"shipped"}),e(i,{label:"运输中",value:"in_transit"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(g,{type:"primary",onClick:te},{default:t(()=>[...l[57]||(l[57]=[r("搜索",-1)])]),_:1}),e(g,{onClick:$e},{default:t(()=>[...l[58]||(l[58]=[r("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,{data:me.value,stripe:"",onSelectionChange:Ye,style:{width:"100%"}},{default:t(()=>[e(n,{type:"selection",width:"55"}),e(n,{prop:"trackingNo",label:"物流单号","min-width":"180"}),e(n,{prop:"orderNo",label:"订单号","min-width":"180"}),e(n,{prop:"carrier",label:"物流商",width:"120",align:"center"},{default:t(a=>[e(N,{type:"primary"},{default:t(()=>[r(f(a.row.carrier==="sf_express"?"顺丰速运":a.row.carrier==="zhongtong"?"中通快递":a.row.carrier==="shentong"?"申通快递":a.row.carrier==="yuantong"?"圆通快递":"韵达快递"),1)]),_:2},1024)]),_:1}),e(n,{prop:"recipientName",label:"收件人",width:"120"}),e(n,{prop:"recipientPhone",label:"联系电话",width:"150"}),e(n,{prop:"status",label:"当前状态",width:"100",align:"center"},{default:t(a=>[e(N,{type:a.row.status==="pending"?"info":"warning"},{default:t(()=>[r(f(a.row.status==="pending"?"待发货":"已发货"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"createdAt",label:"创建时间",width:"180"})]),_:1},8,["data"]),w("div",Al,[e(de,{"current-page":h.value.page,"onUpdate:currentPage":l[26]||(l[26]=a=>h.value.page=a),"page-size":h.value.pageSize,"onUpdate:pageSize":l[27]||(l[27]=a=>h.value.pageSize=a),"page-sizes":[10,20,50],total:h.value.total,layout:"total, sizes, prev, pager, next",onSizeChange:Be,onCurrentChange:Fe},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"]),e(P,{modelValue:oe.value,"onUpdate:modelValue":l[30]||(l[30]=a=>oe.value=a),title:"物流商管理",width:"1000px","close-on-click-modal":!1},{default:t(()=>[w("div",El,[e(g,{type:"primary",onClick:Re},{default:t(()=>[e(R,null,{default:t(()=>[e(_(fe))]),_:1}),l[62]||(l[62]=r(" 新增物流商 ",-1))]),_:1})]),e(Z,{data:A.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(n,{prop:"id",label:"编号",width:"80",align:"center"}),e(n,{prop:"name",label:"物流商名称",width:"150"}),e(n,{prop:"code",label:"物流商编码",width:"120"}),e(n,{prop:"contact",label:"联系人",width:"120"}),e(n,{prop:"phone",label:"联系电话",width:"150"}),e(n,{prop:"serviceArea",label:"服务区域",width:"150"}),e(n,{prop:"status",label:"状态",width:"100",align:"center"},{default:t(a=>[e(N,{type:a.row.status==="active"?"success":"danger"},{default:t(()=>[r(f(a.row.status==="active"?"启用":"停用"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"createdAt",label:"创建时间",width:"180"}),e(n,{label:"操作",width:"180",align:"center",fixed:"right"},{default:t(a=>[e(g,{type:"primary",size:"small",onClick:Y=>qe(a.row)},{default:t(()=>[...l[63]||(l[63]=[r(" 编辑 ",-1)])]),_:1},8,["onClick"]),e(g,{type:"danger",size:"small",onClick:Y=>He(a.row)},{default:t(()=>[...l[64]||(l[64]=[r(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),e(P,{modelValue:U.value,"onUpdate:modelValue":l[38]||(l[38]=a=>U.value=a),title:I.value?"编辑物流商":"新增物流商",width:"500px","close-on-click-modal":!1},{footer:t(()=>[e(g,{onClick:l[37]||(l[37]=a=>U.value=!1)},{default:t(()=>[...l[65]||(l[65]=[r("取消",-1)])]),_:1}),e(g,{type:"primary",loading:Oe.value,onClick:je},{default:t(()=>[...l[66]||(l[66]=[r(" 保存 ",-1)])]),_:1},8,["loading"])]),default:t(()=>[e(T,{ref_key:"carrierFormRef",ref:re,model:c.value,rules:Ie,"label-width":"120px"},{default:t(()=>[e(d,{label:"物流商名称",prop:"name"},{default:t(()=>[e(u,{modelValue:c.value.name,"onUpdate:modelValue":l[31]||(l[31]=a=>c.value.name=a),placeholder:"请输入物流商名称",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"物流商编码",prop:"code"},{default:t(()=>[e(u,{modelValue:c.value.code,"onUpdate:modelValue":l[32]||(l[32]=a=>c.value.code=a),placeholder:"请输入物流商编码",clearable:"",disabled:I.value},null,8,["modelValue","disabled"])]),_:1}),e(d,{label:"联系人",prop:"contact"},{default:t(()=>[e(u,{modelValue:c.value.contact,"onUpdate:modelValue":l[33]||(l[33]=a=>c.value.contact=a),placeholder:"请输入联系人姓名",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"联系电话",prop:"phone"},{default:t(()=>[e(u,{modelValue:c.value.phone,"onUpdate:modelValue":l[34]||(l[34]=a=>c.value.phone=a),placeholder:"请输入联系电话",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"服务区域",prop:"serviceArea"},{default:t(()=>[e(u,{modelValue:c.value.serviceArea,"onUpdate:modelValue":l[35]||(l[35]=a=>c.value.serviceArea=a),placeholder:"请输入服务区域",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"状态"},{default:t(()=>[e(Ke,{modelValue:c.value.status,"onUpdate:modelValue":l[36]||(l[36]=a=>c.value.status=a),"active-text":"启用","inactive-text":"停用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(P,{modelValue:ne.value,"onUpdate:modelValue":l[44]||(l[44]=a=>ne.value=a),title:"异常追踪",width:"1000px","close-on-click-modal":!1},{default:t(()=>[e(K,{shadow:"never",class:"search-form",style:{"margin-bottom":"16px"}},{default:t(()=>[e(T,{inline:!0,onSubmit:ue(X,["prevent"])},{default:t(()=>[e(d,{label:"物流单号"},{default:t(()=>[e(u,{modelValue:S.value.trackingNo,"onUpdate:modelValue":l[39]||(l[39]=a=>S.value.trackingNo=a),placeholder:"请输入物流单号",clearable:"",onKeyup:G(X,["enter"])},null,8,["modelValue"])]),_:1}),e(d,{label:"异常类型"},{default:t(()=>[e(D,{modelValue:S.value.exceptionType,"onUpdate:modelValue":l[40]||(l[40]=a=>S.value.exceptionType=a),placeholder:"请选择异常类型",clearable:""},{default:t(()=>[e(i,{label:"延迟配送",value:"delay"}),e(i,{label:"包裹丢失",value:"lost"}),e(i,{label:"包裹损坏",value:"damaged"}),e(i,{label:"签收异常",value:"signature"}),e(i,{label:"地址错误",value:"address"}),e(i,{label:"其他异常",value:"other"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"处理状态"},{default:t(()=>[e(D,{modelValue:S.value.handled,"onUpdate:modelValue":l[41]||(l[41]=a=>S.value.handled=a),placeholder:"请选择处理状态",clearable:""},{default:t(()=>[e(i,{label:"未处理",value:"false"}),e(i,{label:"已处理",value:"true"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(g,{type:"primary",onClick:X},{default:t(()=>[...l[67]||(l[67]=[r("搜索",-1)])]),_:1}),e(g,{onClick:Ve},{default:t(()=>[...l[68]||(l[68]=[r("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,{data:j.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(n,{prop:"trackingNo",label:"物流单号","min-width":"180"}),e(n,{prop:"orderNo",label:"订单号","min-width":"180"}),e(n,{prop:"exceptionType",label:"异常类型",width:"120",align:"center"},{default:t(a=>[e(N,{type:pe(a.row.exceptionType)},{default:t(()=>[r(f(ce(a.row.exceptionType)),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"description",label:"异常描述","min-width":"200"}),e(n,{prop:"exceptionTime",label:"异常发生时间",width:"180"}),e(n,{prop:"handled",label:"处理状态",width:"100",align:"center"},{default:t(a=>[e(N,{type:a.row.handled?"success":"danger"},{default:t(()=>[r(f(a.row.handled?"已处理":"未处理"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"handler",label:"处理人",width:"120"}),e(n,{prop:"handleTime",label:"处理时间",width:"180"}),e(n,{label:"操作",width:"150",align:"center",fixed:"right"},{default:t(a=>[e(g,{type:"primary",size:"small",onClick:Y=>_e(a.row)},{default:t(()=>[r(f(a.row.handled?"查看详情":"处理异常"),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),w("div",Pl,[e(de,{"current-page":y.value.page,"onUpdate:currentPage":l[42]||(l[42]=a=>y.value.page=a),"page-size":y.value.pageSize,"onUpdate:pageSize":l[43]||(l[43]=a=>y.value.pageSize=a),"page-sizes":[10,20,50],total:y.value.total,layout:"total, sizes, prev, pager, next",onSizeChange:xe,onCurrentChange:Ne},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"]),e(P,{modelValue:L.value,"onUpdate:modelValue":l[47]||(l[47]=a=>L.value=a),title:"异常处理",width:"600px","close-on-click-modal":!1},{footer:t(()=>[e(g,{onClick:l[46]||(l[46]=a=>L.value=!1)},{default:t(()=>[...l[69]||(l[69]=[r("取消",-1)])]),_:1}),e(g,{type:"primary",loading:ie.value,onClick:ke},{default:t(()=>[...l[70]||(l[70]=[r(" 确认处理 ",-1)])]),_:1},8,["loading"])]),default:t(()=>[b.value?(F(),B(Ze,{key:0,column:2,border:""},{default:t(()=>[e($,{label:"物流单号",span:2},{default:t(()=>[r(f(b.value.trackingNo),1)]),_:1}),e($,{label:"订单号"},{default:t(()=>[r(f(b.value.orderNo),1)]),_:1}),e($,{label:"异常类型"},{default:t(()=>[e(N,{type:pe(b.value.exceptionType)},{default:t(()=>[r(f(ce(b.value.exceptionType)),1)]),_:1},8,["type"])]),_:1}),e($,{label:"异常描述",span:2},{default:t(()=>[r(f(b.value.description),1)]),_:1}),e($,{label:"异常发生时间"},{default:t(()=>[r(f(b.value.exceptionTime),1)]),_:1}),e($,{label:"处理状态"},{default:t(()=>[e(N,{type:b.value.handled?"success":"danger"},{default:t(()=>[r(f(b.value.handled?"已处理":"未处理"),1)]),_:1},8,["type"])]),_:1})]),_:1})):bl("",!0),e(ge),e(T,{model:E.value,"label-width":"120px"},{default:t(()=>[e(d,{label:"处理方案",required:""},{default:t(()=>[e(u,{modelValue:E.value.solution,"onUpdate:modelValue":l[45]||(l[45]=a=>E.value.solution=a),type:"textarea",rows:4,placeholder:"请输入处理方案"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1},8,["actions"])}}}),Zl=_l($l,[["__scopeId","data-v-54403cbc"]]);export{Zl as default};
