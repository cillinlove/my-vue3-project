import{a as Oe,E as bt}from"./el-button-Vc6VEKII.js";import{E as wt}from"./el-overlay-BzxwWa47.js";import{c as kt,u as _t,t as xe,d as $t,b as Et,E as Ct,a as St}from"./el-input-CFf0CTHR.js";import{E as Lt}from"./el-input-number-BnT4jGWw.js";import{d as Tt,E as Pt,a as Rt,g as It,b as Ft,c as zt,e as Ot,f as Nt,h as Dt}from"./el-table-column-DnVx5bAE.js";import"./el-tag-H94PFL3m.js";import{E as Ut}from"./el-card-CgDv5Emn.js";import{G as Vt,H as Me,b as fe,I as z,J as Pe,_ as be,d as me,K as Qe,L as Bt,M as At,N as He,e as de,O as Mt,p as U,P as jt,c as F,Q as qt,R as Fe,S as Ee,C as Ke,T as ye,g as X,o as h,w as c,t as r,U as Xt,s as D,V as re,n as $,k as e,h as L,f as P,r as V,y as pe,E as x,W as We,X as he,Y as Yt,Z as xt,x as ce,F as ie,$ as Ht,a0 as ct,j as dt,a1 as Kt,a2 as Wt,a3 as Gt,a4 as Zt,a5 as $e,a6 as Ge,l as Ne,a7 as Jt,a8 as Qt,a9 as Te,aa as Ze,ab as ea,ac as ze,ad as je,ae as Be,af as Ae,ag as ta,ah as qe,ai as aa,aj as sa,ak as oa,al as pt,am as la,an as ft,ao as mt,ap as vt,aq as H,ar as Ie,v as Je,as as na,at as Xe,au as ra,av as ia,aw as et,ax as ua,ay as ca,az as da,aA as pa,aB as fa,aC as ma,q as tt,aD as va,aE as at,z as oe,B as ga}from"./index-ClAeb_nj.js";import{P as ya}from"./PageLayout-2dU49uLu.js";import{a as ha,b as ba,d as wa,u as ka,c as _a,e as $a}from"./api-D03_kbYf.js";import{u as Ea,E as Ca}from"./index-Az46Y9ah.js";import"./index-4rY4zpWs.js";import"./mockData-C7SYYOmC.js";var Sa=1,La=4;function st(s){return kt(s,Sa|La)}var Ta="Expected a function";function Re(s,v,a){var n=!0,k=!0;if(typeof s!="function")throw new TypeError(Ta);return Vt(a)&&(n="leading"in a?!!a.leading:n,k="trailing"in a?!!a.trailing:k),Tt(s,v,{leading:n,maxWait:v,trailing:k})}const Pa=fe({urlList:{type:z(Array),default:()=>Pe([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:z(String)}}),Ra={close:()=>!0,error:s=>s instanceof Event,switch:s=>Me(s),rotate:s=>Me(s)},Ia=["src","crossorigin"],Fa=me({name:"ElImageViewer",__name:"image-viewer",props:Pa,emits:Ra,setup(s,{expose:v,emit:a}){var n;const k={CONTAIN:{name:"contain",icon:Qe(At)},ORIGINAL:{name:"original",icon:Qe(Bt)}},u=s,m=a;let N;const{t:C}=He(),w=de("image-viewer"),{nextZIndex:T}=Mt(),g=U(),E=U(),O=jt(),o=F(()=>{const{scale:f,minScale:I,maxScale:B}=u;return qt(f,I,B)}),t=U(!0),l=U(!1),d=U(!1),R=U(u.initialIndex),i=Fe(k.CONTAIN),y=U({scale:o.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),Y=U((n=u.zIndex)!=null?n:T());Ea(d,{ns:w});const A=F(()=>{const{urlList:f}=u;return f.length<=1}),M=F(()=>R.value===0),ue=F(()=>R.value===u.urlList.length-1),ee=F(()=>u.urlList[R.value]),ve=F(()=>[w.e("btn"),w.e("prev"),w.is("disabled",!u.infinite&&M.value)]),te=F(()=>[w.e("btn"),w.e("next"),w.is("disabled",!u.infinite&&ue.value)]),S=F(()=>{const{scale:f,deg:I,offsetX:B,offsetY:Q,enableTransition:ae}=y.value;let G=B/f,se=Q/f;const _e=I*Math.PI/180,ge=Math.cos(_e),Le=Math.sin(_e);G=G*ge+se*Le,se=se*ge-B/f*Le;const Ve={transform:`scale(${f}) rotate(${I}deg) translate(${G}px, ${se}px)`,transition:ae?"transform .3s":""};return i.value.name===k.CONTAIN.name&&(Ve.maxWidth=Ve.maxHeight="100%"),Ve}),p=F(()=>`${R.value+1} / ${u.urlList.length}`);function j(){we(),N?.(),d.value=!1,m("close")}function W(){const f=Re(B=>{switch(Zt(B)){case $e.esc:u.closeOnPressEscape&&j();break;case $e.space:ke();break;case $e.left:Ce();break;case $e.up:J("zoomIn");break;case $e.right:Se();break;case $e.down:J("zoomOut");break}}),I=Re(B=>{const Q=B.deltaY||B.deltaX;J(Q<0?"zoomIn":"zoomOut",{zoomRate:u.zoomRate,enableTransition:!1})});O.run(()=>{ye(document,"keydown",f),ye(g,"wheel",I)})}function we(){O.stop()}function b(){t.value=!1}function q(f){l.value=!0,t.value=!1,m("error",f),f.target.alt=C("el.image.error")}function K(f){if(t.value||f.button!==0||!g.value)return;y.value.enableTransition=!1;const{offsetX:I,offsetY:B}=y.value,Q=f.pageX,ae=f.pageY,G=Re(ge=>{y.value={...y.value,offsetX:I+ge.pageX-Q,offsetY:B+ge.pageY-ae}}),se=ye(document,"mousemove",G),_e=ye(document,"mouseup",()=>{se(),_e()});f.preventDefault()}function le(f){if(t.value||!g.value||f.touches.length!==1)return;y.value.enableTransition=!1;const{offsetX:I,offsetY:B}=y.value,{pageX:Q,pageY:ae}=f.touches[0],G=Re(ge=>{const Le=ge.touches[0];y.value={...y.value,offsetX:I+Le.pageX-Q,offsetY:B+Le.pageY-ae}}),se=ye(document,"touchmove",G),_e=ye(document,"touchend",()=>{se(),_e()});f.preventDefault()}function Z(){y.value={scale:o.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ke(){if(t.value||l.value)return;const f=Gt(k),I=Object.values(k),B=i.value.name,ae=(I.findIndex(G=>G.name===B)+1)%f.length;i.value=k[f[ae]],Z()}function ne(f){l.value=!1;const I=u.urlList.length;R.value=(f+I)%I}function Ce(){M.value&&!u.infinite||ne(R.value-1)}function Se(){ue.value&&!u.infinite||ne(R.value+1)}function J(f,I={}){if(t.value||l.value)return;const{minScale:B,maxScale:Q}=u,{zoomRate:ae,rotateDeg:G,enableTransition:se}={zoomRate:u.zoomRate,rotateDeg:90,enableTransition:!0,...I};switch(f){case"zoomOut":y.value.scale>B&&(y.value.scale=Number.parseFloat((y.value.scale/ae).toFixed(3)));break;case"zoomIn":y.value.scale<Q&&(y.value.scale=Number.parseFloat((y.value.scale*ae).toFixed(3)));break;case"clockwise":y.value.deg+=G,m("rotate",y.value.deg);break;case"anticlockwise":y.value.deg-=G,m("rotate",y.value.deg);break}y.value.enableTransition=se}function De(f){var I;((I=f.detail)==null?void 0:I.focusReason)==="pointer"&&f.preventDefault()}function Ue(){u.closeOnPressEscape&&j()}function _(f){if(f.ctrlKey){if(f.deltaY<0)return f.preventDefault(),!1;if(f.deltaY>0)return f.preventDefault(),!1}}return Ee(()=>o.value,f=>{y.value.scale=f}),Ee(ee,()=>{Ge(()=>{const f=E.value;f?.complete||(t.value=!0)})}),Ee(R,f=>{Z(),m("switch",f)}),Ke(()=>{d.value=!0,W(),N=ye("wheel",_,{passive:!1})}),v({setActiveItem:ne}),(f,I)=>(h(),X(e(Rt),{to:"body",disabled:!f.teleported},{default:c(()=>[r(Xt,{name:"viewer-fade",appear:""},{default:c(()=>[D("div",{ref_key:"wrapper",ref:g,tabindex:-1,class:$(e(w).e("wrapper")),style:re({zIndex:Y.value})},[r(e(Pt),{loop:"",trapped:"","focus-trap-el":g.value,"focus-start-el":"container",onFocusoutPrevented:De,onReleaseRequested:Ue},{default:c(()=>[D("div",{class:$(e(w).e("mask")),onClick:I[0]||(I[0]=pe(B=>f.hideOnClickModal&&j(),["self"]))},null,2),L(" CLOSE "),D("span",{class:$([e(w).e("btn"),e(w).e("close")]),onClick:j},[r(e(x),null,{default:c(()=>[r(e(We))]),_:1})],2),L(" ARROW "),A.value?L("v-if",!0):(h(),P(he,{key:0},[D("span",{class:$(ve.value),onClick:Ce},[r(e(x),null,{default:c(()=>[r(e(Yt))]),_:1})],2),D("span",{class:$(te.value),onClick:Se},[r(e(x),null,{default:c(()=>[r(e(xt))]),_:1})],2)],64)),f.$slots.progress||f.showProgress?(h(),P("div",{key:1,class:$([e(w).e("btn"),e(w).e("progress")])},[V(f.$slots,"progress",{activeIndex:R.value,total:f.urlList.length},()=>[ce(ie(p.value),1)])],2)):L("v-if",!0),L(" ACTIONS "),D("div",{class:$([e(w).e("btn"),e(w).e("actions")])},[D("div",{class:$(e(w).e("actions__inner"))},[V(f.$slots,"toolbar",{actions:J,prev:Ce,next:Se,reset:ke,activeIndex:R.value,setActiveItem:ne},()=>[r(e(x),{onClick:I[1]||(I[1]=B=>J("zoomOut"))},{default:c(()=>[r(e(Ht))]),_:1}),r(e(x),{onClick:I[2]||(I[2]=B=>J("zoomIn"))},{default:c(()=>[r(e(ct))]),_:1}),D("i",{class:$(e(w).e("actions__divider"))},null,2),r(e(x),{onClick:ke},{default:c(()=>[(h(),X(dt(i.value.icon)))]),_:1}),D("i",{class:$(e(w).e("actions__divider"))},null,2),r(e(x),{onClick:I[3]||(I[3]=B=>J("anticlockwise"))},{default:c(()=>[r(e(Kt))]),_:1}),r(e(x),{onClick:I[4]||(I[4]=B=>J("clockwise"))},{default:c(()=>[r(e(Wt))]),_:1})])],2)],2),L(" CANVAS "),D("div",{class:$(e(w).e("canvas"))},[l.value&&f.$slots["viewer-error"]?V(f.$slots,"viewer-error",{key:0,activeIndex:R.value,src:ee.value}):(h(),P("img",{ref_key:"imgRef",ref:E,key:ee.value,src:ee.value,style:re(S.value),class:$(e(w).e("img")),crossorigin:f.crossorigin,onLoad:b,onError:q,onMousedown:K,onTouchstart:le},null,46,Ia))],2),V(f.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var za=be(Fa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const Oa=Ne(za),Na=fe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:z([String,Object])},previewSrcList:{type:z(Array),default:()=>Pe([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:z(String)}}),Da={load:s=>s instanceof Event,error:s=>s instanceof Event,switch:s=>Me(s),close:()=>!0,show:()=>!0},Ua=["src","loading","crossorigin"],Va={key:0},Ba=me({name:"ElImage",inheritAttrs:!1,__name:"image",props:Na,emits:Da,setup(s,{expose:v,emit:a}){const n=s,k=a,{t:u}=He(),m=de("image"),N=Jt(),C=F(()=>Qt(Object.entries(N).filter(([b])=>/^(data-|on[A-Z])/i.test(b)||["id","style"].includes(b)))),w=_t({excludeListeners:!0,excludeKeys:F(()=>Object.keys(C.value))}),T=U(),g=U(!1),E=U(!0),O=U(!1),o=U(),t=U(),l=Te&&"loading"in HTMLImageElement.prototype;let d;const R=F(()=>[m.e("inner"),y.value&&m.e("preview"),E.value&&m.is("loading")]),i=F(()=>{const{fit:b}=n;return Te&&b?{objectFit:b}:{}}),y=F(()=>{const{previewSrcList:b}=n;return Ze(b)&&b.length>0}),Y=F(()=>{const{previewSrcList:b,initialIndex:q}=n;let K=q;return q>b.length-1&&(K=0),K}),A=F(()=>n.loading==="eager"?!1:!l&&n.loading==="lazy"||n.lazy),M=()=>{Te&&(E.value=!0,g.value=!1,T.value=n.src)};function ue(b){E.value=!1,g.value=!1,k("load",b)}function ee(b){E.value=!1,g.value=!0,k("error",b)}function ve(b){b&&(M(),p())}const te=ea(ve,200,!0);async function S(){var b;if(!Te)return;await Ge();const{scrollContainer:q}=n;if(ta(q))t.value=q;else if(qe(q)&&q!=="")t.value=(b=document.querySelector(q))!=null?b:void 0;else if(o.value){const le=It(o.value);t.value=aa(le)?void 0:le}const{stop:K}=sa(o,([le])=>{te(le.isIntersecting)},{root:t});d=K}function p(){!Te||!te||(d?.(),t.value=void 0,d=void 0)}function j(){y.value&&(O.value=!0,k("show"))}function W(){O.value=!1,k("close")}function we(b){k("switch",b)}return Ee(()=>n.src,()=>{A.value?(E.value=!0,g.value=!1,p(),S()):M()}),Ke(()=>{A.value?S():M()}),v({showPreview:j}),(b,q)=>(h(),P("div",ze({ref_key:"container",ref:o},C.value,{class:[e(m).b(),b.$attrs.class]}),[g.value?V(b.$slots,"error",{key:0},()=>[D("div",{class:$(e(m).e("error"))},ie(e(u)("el.image.error")),3)]):(h(),P(he,{key:1},[T.value!==void 0?(h(),P("img",ze({key:0},e(w),{src:T.value,loading:b.loading,style:i.value,class:R.value,crossorigin:b.crossorigin,onClick:j,onLoad:ue,onError:ee}),null,16,Ua)):L("v-if",!0),E.value?(h(),P("div",{key:1,class:$(e(m).e("wrapper"))},[V(b.$slots,"placeholder",{},()=>[D("div",{class:$(e(m).e("placeholder"))},null,2)])],2)):L("v-if",!0)],64)),y.value?(h(),P(he,{key:2},[O.value?(h(),X(e(Oa),{key:0,"z-index":b.zIndex,"initial-index":Y.value,infinite:b.infinite,"zoom-rate":b.zoomRate,"min-scale":b.minScale,"max-scale":b.maxScale,"show-progress":b.showProgress,"url-list":b.previewSrcList,scale:b.scale,crossorigin:b.crossorigin,"hide-on-click-modal":b.hideOnClickModal,teleported:b.previewTeleported,"close-on-press-escape":b.closeOnPressEscape,onClose:W,onSwitch:we},je({toolbar:c(K=>[V(b.$slots,"toolbar",Be(Ae(K)))]),default:c(()=>[b.$slots.viewer?(h(),P("div",Va,[V(b.$slots,"viewer")])):L("v-if",!0)]),_:2},[b.$slots.progress?{name:"progress",fn:c(K=>[V(b.$slots,"progress",Be(Ae(K)))]),key:"0"}:void 0,b.$slots["viewer-error"]?{name:"viewer-error",fn:c(K=>[V(b.$slots,"viewer-error",Be(Ae(K)))]),key:"1"}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):L("v-if",!0)],64)):L("v-if",!0)],16))}});var Aa=be(Ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Ma=Ne(Aa),ja=fe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:s=>s>=0&&s<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:z(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:z([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:z(Function),default:s=>`${s}%`}}),qa=["aria-valuenow"],Xa={viewBox:"0 0 100 100"},Ya=["d","stroke","stroke-linecap","stroke-width"],xa=["d","stroke","opacity","stroke-linecap","stroke-width"],Ha={key:0},Ka=me({name:"ElProgress",__name:"progress",props:ja,setup(s){const v={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},a=s,n=de("progress"),k=F(()=>{const i={width:`${a.percentage}%`,animationDuration:`${a.duration}s`},y=R(a.percentage);return y.includes("gradient")?i.background=y:i.backgroundColor=y,i}),u=F(()=>(a.strokeWidth/a.width*100).toFixed(1)),m=F(()=>["circle","dashboard"].includes(a.type)?Number.parseInt(`${50-Number.parseFloat(u.value)/2}`,10):0),N=F(()=>{const i=m.value,y=a.type==="dashboard";return`
          M 50 50
          m 0 ${y?"":"-"}${i}
          a ${i} ${i} 0 1 1 0 ${y?"-":""}${i*2}
          a ${i} ${i} 0 1 1 0 ${y?"":"-"}${i*2}
          `}),C=F(()=>2*Math.PI*m.value),w=F(()=>a.type==="dashboard"?.75:1),T=F(()=>`${-1*C.value*(1-w.value)/2}px`),g=F(()=>({strokeDasharray:`${C.value*w.value}px, ${C.value}px`,strokeDashoffset:T.value})),E=F(()=>({strokeDasharray:`${C.value*w.value*(a.percentage/100)}px, ${C.value}px`,strokeDashoffset:T.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),O=F(()=>{let i;return a.color?i=R(a.percentage):i=v[a.status]||v.default,i}),o=F(()=>a.status==="warning"?oa:a.type==="line"?a.status==="success"?pt:la:a.status==="success"?ft:We),t=F(()=>a.type==="line"?12+a.strokeWidth*.4:a.width*.111111+2),l=F(()=>a.format(a.percentage));function d(i){const y=100/i.length;return i.map((A,M)=>qe(A)?{color:A,percentage:(M+1)*y}:A).sort((A,M)=>A.percentage-M.percentage)}const R=i=>{var y;const{color:Y}=a;if(mt(Y))return Y(i);if(qe(Y))return Y;{const A=d(Y);for(const M of A)if(M.percentage>i)return M.color;return(y=A[A.length-1])==null?void 0:y.color}};return(i,y)=>(h(),P("div",{class:$([e(n).b(),e(n).m(i.type),e(n).is(i.status),{[e(n).m("without-text")]:!i.showText,[e(n).m("text-inside")]:i.textInside}]),role:"progressbar","aria-valuenow":i.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[i.type==="line"?(h(),P("div",{key:0,class:$(e(n).b("bar"))},[D("div",{class:$(e(n).be("bar","outer")),style:re({height:`${i.strokeWidth}px`})},[D("div",{class:$([e(n).be("bar","inner"),{[e(n).bem("bar","inner","indeterminate")]:i.indeterminate},{[e(n).bem("bar","inner","striped")]:i.striped},{[e(n).bem("bar","inner","striped-flow")]:i.stripedFlow}]),style:re(k.value)},[(i.showText||i.$slots.default)&&i.textInside?(h(),P("div",{key:0,class:$(e(n).be("bar","innerText"))},[V(i.$slots,"default",{percentage:i.percentage},()=>[D("span",null,ie(l.value),1)])],2)):L("v-if",!0)],6)],6)],2)):(h(),P("div",{key:1,class:$(e(n).b("circle")),style:re({height:`${i.width}px`,width:`${i.width}px`})},[(h(),P("svg",Xa,[D("path",{class:$(e(n).be("circle","track")),d:N.value,stroke:`var(${e(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":i.strokeLinecap,"stroke-width":u.value,fill:"none",style:re(g.value)},null,14,Ya),D("path",{class:$(e(n).be("circle","path")),d:N.value,stroke:O.value,fill:"none",opacity:i.percentage?1:0,"stroke-linecap":i.strokeLinecap,"stroke-width":u.value,style:re(E.value)},null,14,xa)]))],6)),(i.showText||i.$slots.default)&&!i.textInside?(h(),P("div",{key:2,class:$(e(n).e("text")),style:re({fontSize:`${t.value}px`})},[V(i.$slots,"default",{percentage:i.percentage},()=>[i.status?(h(),X(e(x),{key:1},{default:c(()=>[(h(),X(dt(o.value)))]),_:1})):(h(),P("span",Ha,ie(l.value),1))])],6)):L("v-if",!0)],10,qa))}});var Wa=be(Ka,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Ga=Ne(Wa),gt=Symbol("uploadContextKey"),Za="ElUpload";class Ja extends Error{constructor(v,a,n,k){super(v),this.name="UploadAjaxError",this.status=a,this.method=n,this.url=k}}function ot(s,v,a){let n;return a.response?n=`${a.response.error||a.response}`:a.responseText?n=`${a.responseText}`:n=`fail to ${v.method} ${s} ${a.status}`,new Ja(n,a.status,v.method,s)}function Qa(s){const v=s.responseText||s.response;if(!v)return v;try{return JSON.parse(v)}catch{return v}}const es=s=>{typeof XMLHttpRequest>"u"&&xe(Za,"XMLHttpRequest is undefined");const v=new XMLHttpRequest,a=s.action;v.upload&&v.upload.addEventListener("progress",u=>{const m=u;m.percent=u.total>0?u.loaded/u.total*100:0,s.onProgress(m)});const n=new FormData;if(s.data)for(const[u,m]of Object.entries(s.data))Ze(m)&&m.length?n.append(u,...m):n.append(u,m);n.append(s.filename,s.file,s.file.name),v.addEventListener("error",()=>{s.onError(ot(a,s,v))}),v.addEventListener("load",()=>{if(v.status<200||v.status>=300)return s.onError(ot(a,s,v));s.onSuccess(Qa(v))}),v.open(s.method,a,!0),s.withCredentials&&"withCredentials"in v&&(v.withCredentials=!0);const k=s.headers||{};if(k instanceof Headers)k.forEach((u,m)=>v.setRequestHeader(m,u));else for(const[u,m]of Object.entries(k))vt(m)||v.setRequestHeader(u,String(m));return v.send(n),v},yt=["text","picture","picture-card"];let ts=1;const Ye=()=>Date.now()+ts++,ht=fe({action:{type:String,default:"#"},headers:{type:z(Object)},method:{type:String,default:"post"},data:{type:z([Object,Function,Promise]),default:()=>Pe({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:z(Array),default:()=>Pe([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:yt,default:"text"},httpRequest:{type:z(Function),default:es},disabled:{type:Boolean,default:void 0},limit:Number}),as=fe({...ht,beforeUpload:{type:z(Function),default:H},beforeRemove:{type:z(Function)},onRemove:{type:z(Function),default:H},onChange:{type:z(Function),default:H},onPreview:{type:z(Function),default:H},onSuccess:{type:z(Function),default:H},onProgress:{type:z(Function),default:H},onError:{type:z(Function),default:H},onExceed:{type:z(Function),default:H},crossorigin:{type:z(String)}}),ss=fe({files:{type:z(Array),default:()=>Pe([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:z(Function),default:H},listType:{type:String,values:yt,default:"text"},crossorigin:{type:z(String)}}),os={remove:s=>!!s},ls=["tabindex","aria-disabled","onKeydown"],ns=["src","crossorigin"],rs=["onClick"],is=["title"],us=["onClick"],cs=["onClick"],ds=me({name:"ElUploadList",__name:"upload-list",props:ss,emits:os,setup(s,{emit:v}){const a=s,n=v,{t:k}=He(),u=de("upload"),m=de("icon"),N=de("list"),C=Oe(),w=U(!1),T=F(()=>[u.b("list"),u.bm("list",a.listType),u.is("disabled",C.value)]),g=E=>{n("remove",E)};return(E,O)=>(h(),X(ra,{tag:"ul",class:$(T.value),name:e(N).b()},{default:c(()=>[(h(!0),P(he,null,Ie(E.files,(o,t)=>(h(),P("li",{key:o.uid||o.name,class:$([e(u).be("list","item"),e(u).is(o.status),{focusing:w.value}]),tabindex:e(C)?void 0:0,"aria-disabled":e(C),role:"button",onKeydown:Je(l=>!e(C)&&g(o),["delete"]),onFocus:O[0]||(O[0]=l=>w.value=!0),onBlur:O[1]||(O[1]=l=>w.value=!1),onClick:O[2]||(O[2]=l=>w.value=!1)},[V(E.$slots,"default",{file:o,index:t},()=>[E.listType==="picture"||o.status!=="uploading"&&E.listType==="picture-card"?(h(),P("img",{key:0,class:$(e(u).be("list","item-thumbnail")),src:o.url,crossorigin:E.crossorigin,alt:""},null,10,ns)):L("v-if",!0),o.status==="uploading"||E.listType!=="picture-card"?(h(),P("div",{key:1,class:$(e(u).be("list","item-info"))},[D("a",{class:$(e(u).be("list","item-name")),onClick:pe(l=>E.handlePreview(o),["prevent"])},[r(e(x),{class:$(e(m).m("document"))},{default:c(()=>[r(e(na))]),_:1},8,["class"]),D("span",{class:$(e(u).be("list","item-file-name")),title:o.name},ie(o.name),11,is)],10,rs),o.status==="uploading"?(h(),X(e(Ga),{key:0,type:E.listType==="picture-card"?"circle":"line","stroke-width":E.listType==="picture-card"?6:2,percentage:Number(o.percentage),style:re(E.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):L("v-if",!0)],2)):L("v-if",!0),D("label",{class:$(e(u).be("list","item-status-label"))},[E.listType==="text"?(h(),X(e(x),{key:0,class:$([e(m).m("upload-success"),e(m).m("circle-check")])},{default:c(()=>[r(e(pt))]),_:1},8,["class"])):["picture-card","picture"].includes(E.listType)?(h(),X(e(x),{key:1,class:$([e(m).m("upload-success"),e(m).m("check")])},{default:c(()=>[r(e(ft))]),_:1},8,["class"])):L("v-if",!0)],2),e(C)?L("v-if",!0):(h(),X(e(x),{key:2,class:$(e(m).m("close")),onClick:l=>g(o)},{default:c(()=>[r(e(We))]),_:1},8,["class","onClick"])),L(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),L(" This is a bug which needs to be fixed "),L(" TODO: Fix the incorrect navigation interaction "),e(C)?L("v-if",!0):(h(),P("i",{key:3,class:$(e(m).m("close-tip"))},ie(e(k)("el.upload.deleteTip")),3)),E.listType==="picture-card"?(h(),P("span",{key:4,class:$(e(u).be("list","item-actions"))},[D("span",{class:$(e(u).be("list","item-preview")),onClick:l=>E.handlePreview(o)},[r(e(x),{class:$(e(m).m("zoom-in"))},{default:c(()=>[r(e(ct))]),_:1},8,["class"])],10,us),e(C)?L("v-if",!0):(h(),P("span",{key:0,class:$(e(u).be("list","item-delete")),onClick:l=>g(o)},[r(e(x),{class:$(e(m).m("delete"))},{default:c(()=>[r(e(Xe))]),_:1},8,["class"])],10,cs))],2)):L("v-if",!0)])],42,ls))),128)),V(E.$slots,"append")]),_:3},8,["class","name"]))}});var lt=be(ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const ps=fe({disabled:{type:Boolean,default:void 0}}),fs={file:s=>Ze(s)},nt="ElUploadDrag",ms=me({name:nt,__name:"upload-dragger",props:ps,emits:fs,setup(s,{emit:v}){const a=v;ia(gt)||xe(nt,"usage: <el-upload><el-upload-dragger /></el-upload>");const k=de("upload"),u=U(!1),m=Oe(),N=T=>{if(m.value)return;u.value=!1,T.stopPropagation();const g=Array.from(T.dataTransfer.files),E=T.dataTransfer.items||[];g.forEach((O,o)=>{var t;const l=E[o],d=(t=l?.webkitGetAsEntry)==null?void 0:t.call(l);d&&(O.isDirectory=d.isDirectory)}),a("file",g)},C=()=>{m.value||(u.value=!0)},w=T=>{T.currentTarget.contains(T.relatedTarget)||(u.value=!1)};return(T,g)=>(h(),P("div",{class:$([e(k).b("dragger"),e(k).is("dragover",u.value)]),onDrop:pe(N,["prevent"]),onDragover:pe(C,["prevent"]),onDragleave:pe(w,["prevent"])},[V(T.$slots,"default")],34))}});var vs=be(ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const gs=fe({...ht,beforeUpload:{type:z(Function),default:H},onRemove:{type:z(Function),default:H},onStart:{type:z(Function),default:H},onSuccess:{type:z(Function),default:H},onProgress:{type:z(Function),default:H},onError:{type:z(Function),default:H},onExceed:{type:z(Function),default:H}}),ys=["tabindex","aria-disabled","onKeydown"],hs=["name","disabled","multiple","accept"],bs=me({name:"ElUploadContent",inheritAttrs:!1,__name:"upload-content",props:gs,setup(s,{expose:v}){const a=s,n=de("upload"),k=Oe(),u=Fe({}),m=Fe(),N=t=>{if(t.length===0)return;const{autoUpload:l,limit:d,fileList:R,multiple:i,onStart:y,onExceed:Y}=a;if(d&&R.length+t.length>d){Y(t,R);return}i||(t=t.slice(0,1));for(const A of t){const M=A;M.uid=Ye(),y(M),l&&C(M)}},C=async t=>{if(m.value.value="",!a.beforeUpload)return T(t);let l,d={};try{const i=a.data,y=a.beforeUpload(t);d=et(a.data)?st(a.data):a.data,l=await y,et(a.data)&&ua(i,d)&&(d=st(a.data))}catch{l=!1}if(l===!1){a.onRemove(t);return}let R=t;l instanceof Blob&&(l instanceof File?R=l:R=new File([l],t.name,{type:t.type})),T(Object.assign(R,{uid:t.uid}),d)},w=async(t,l)=>mt(t)?t(l):t,T=async(t,l)=>{const{headers:d,data:R,method:i,withCredentials:y,name:Y,action:A,onProgress:M,onSuccess:ue,onError:ee,httpRequest:ve}=a;try{l=await w(l??R,t)}catch{a.onRemove(t);return}const{uid:te}=t,S={headers:d||{},withCredentials:y,file:t,data:l,method:i,filename:Y,action:A,onProgress:j=>{M(j,t)},onSuccess:j=>{ue(j,t),delete u.value[te]},onError:j=>{ee(j,t),delete u.value[te]}},p=ve(S);u.value[te]=p,p instanceof Promise&&p.then(S.onSuccess,S.onError)},g=t=>{const l=t.target.files;l&&N(Array.from(l))},E=()=>{k.value||(m.value.value="",m.value.click())},O=()=>{E()};return v({abort:t=>{ca(u.value).filter(t?([d])=>String(t.uid)===d:()=>!0).forEach(([d,R])=>{R instanceof XMLHttpRequest&&R.abort(),delete u.value[d]})},upload:C}),(t,l)=>(h(),P("div",{class:$([e(n).b(),e(n).m(t.listType),e(n).is("drag",t.drag),e(n).is("disabled",e(k))]),tabindex:e(k)?void 0:0,"aria-disabled":e(k),role:"button",onClick:E,onKeydown:Je(pe(O,["self"]),["enter","space"])},[t.drag?(h(),X(vs,{key:0,disabled:e(k),onFile:N},{default:c(()=>[V(t.$slots,"default")]),_:3},8,["disabled"])):V(t.$slots,"default",{key:1}),D("input",{ref_key:"inputRef",ref:m,class:$(e(n).e("input")),name:t.name,disabled:e(k),multiple:t.multiple,accept:t.accept,type:"file",onChange:g,onClick:l[0]||(l[0]=pe(()=>{},["stop"]))},null,42,hs)],42,ys))}});var rt=be(bs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const it="ElUpload",ut=s=>{var v;(v=s.url)!=null&&v.startsWith("blob:")&&URL.revokeObjectURL(s.url)},ws=(s,v)=>{const a=da(s,"fileList",void 0,{passive:!0}),n=o=>a.value.find(t=>t.uid===o.uid);function k(o){var t;(t=v.value)==null||t.abort(o)}function u(o=["ready","uploading","success","fail"]){a.value=a.value.filter(t=>!o.includes(t.status))}function m(o){a.value=a.value.filter(t=>t.uid!==o.uid)}const N=o=>{Ge(()=>s.onChange(o,a.value))},C=(o,t)=>{const l=n(t);l&&(console.error(o),l.status="fail",m(l),s.onError(o,l,a.value),N(l))},w=(o,t)=>{const l=n(t);l&&(s.onProgress(o,l,a.value),l.status="uploading",l.percentage=Math.round(o.percent))},T=(o,t)=>{const l=n(t);l&&(l.status="success",l.response=o,s.onSuccess(o,l,a.value),N(l))},g=o=>{vt(o.uid)&&(o.uid=Ye());const t={name:o.name,percentage:0,status:"ready",size:o.size,raw:o,uid:o.uid};if(s.listType==="picture-card"||s.listType==="picture")try{t.url=URL.createObjectURL(o)}catch(l){$t(it,l.message),s.onError(l,t,a.value)}a.value=[...a.value,t],N(t)},E=async o=>{const t=o instanceof File?n(o):o;t||xe(it,"file to be removed not found");const l=d=>{k(d),m(d),s.onRemove(d,a.value),ut(d)};s.beforeRemove?await s.beforeRemove(t,a.value)!==!1&&l(t):l(t)};function O(){a.value.filter(({status:o})=>o==="ready").forEach(({raw:o})=>{var t;return o&&((t=v.value)==null?void 0:t.upload(o))})}return Ee(()=>s.listType,o=>{o!=="picture-card"&&o!=="picture"||(a.value=a.value.map(t=>{const{raw:l,url:d}=t;if(!d&&l)try{t.url=URL.createObjectURL(l)}catch(R){s.onError(R,t,a.value)}return t}))}),Ee(a,o=>{for(const t of o)t.uid||(t.uid=Ye()),t.status||(t.status="success")},{immediate:!0,deep:!0}),{uploadFiles:a,abort:k,clearFiles:u,handleError:C,handleProgress:w,handleStart:g,handleSuccess:T,handleRemove:E,submit:O,revokeFileObjectURL:ut}},ks=me({name:"ElUpload",__name:"upload",props:as,setup(s,{expose:v}){const a=s,n=Oe(),k=Fe(),{abort:u,submit:m,clearFiles:N,uploadFiles:C,handleStart:w,handleError:T,handleRemove:g,handleSuccess:E,handleProgress:O,revokeFileObjectURL:o}=ws(a,k),t=F(()=>a.listType==="picture-card"),l=F(()=>({...a,fileList:C.value,onStart:w,onProgress:O,onSuccess:E,onError:T,onRemove:g}));return pa(()=>{C.value.forEach(o)}),fa(gt,{accept:ma(a,"accept")}),v({abort:u,submit:m,clearFiles:N,handleStart:w,handleRemove:g}),(d,R)=>(h(),P("div",null,[t.value&&d.showFileList?(h(),X(lt,{key:0,disabled:e(n),"list-type":d.listType,files:e(C),crossorigin:d.crossorigin,"handle-preview":d.onPreview,onRemove:e(g)},je({append:c(()=>[r(rt,ze({ref_key:"uploadRef",ref:k},l.value),{default:c(()=>[d.$slots.trigger?V(d.$slots,"trigger",{key:0}):L("v-if",!0),!d.$slots.trigger&&d.$slots.default?V(d.$slots,"default",{key:1}):L("v-if",!0)]),_:3},16)]),_:2},[d.$slots.file?{name:"default",fn:c(({file:i,index:y})=>[V(d.$slots,"file",{file:i,index:y})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):L("v-if",!0),!t.value||t.value&&!d.showFileList?(h(),X(rt,ze({key:1,ref_key:"uploadRef",ref:k},l.value),{default:c(()=>[d.$slots.trigger?V(d.$slots,"trigger",{key:0}):L("v-if",!0),!d.$slots.trigger&&d.$slots.default?V(d.$slots,"default",{key:1}):L("v-if",!0)]),_:3},16)):L("v-if",!0),d.$slots.trigger?V(d.$slots,"default",{key:2}):L("v-if",!0),V(d.$slots,"tip"),!t.value&&d.showFileList?(h(),X(lt,{key:3,disabled:e(n),"list-type":d.listType,files:e(C),crossorigin:d.crossorigin,"handle-preview":d.onPreview,onRemove:e(g)},je({_:2},[d.$slots.file?{name:"default",fn:c(({file:i,index:y})=>[V(d.$slots,"file",{file:i,index:y})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):L("v-if",!0)]))}});var _s=be(ks,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const $s=Ne(_s),Es={key:0,class:"image-preview"},Cs={key:1,class:"image-count"},Ss={key:1,class:"no-image"},Ls={class:"action-buttons"},Ts={class:"pagination-container"},Ps={key:0,class:"preview-list"},Rs={class:"dialog-footer"},Is=me({__name:"ProductManageView",setup(s){const v=U([]),a=U({name:"",category:void 0}),n=U({page:1,pageSize:10,total:0}),k=U([]),u=U([]),m=U(!1),N=U(!1),C=U(!1),w=U(),T=U([]),g=tt({id:0,name:"",price:0,stock:0,category:0,images:[]}),E=tt({name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:50,message:"商品名称长度在 2 到 50 个字符",trigger:"blur"}],price:[{required:!0,message:"请输入商品价格",trigger:"blur"},{type:"number",min:0,message:"商品价格必须大于等于0",trigger:"blur"}],stock:[{required:!0,message:"请输入商品库存",trigger:"blur"},{type:"number",min:0,message:"商品库存必须大于等于0",trigger:"blur"}],category:[{required:!0,message:"请选择商品分类",trigger:"change"}]}),O=async()=>{m.value=!0;try{const S={...a.value,page:n.value.page,pageSize:n.value.pageSize},p=await ba(S);k.value=p.list,n.value.total=p.total}finally{m.value=!1}},o=()=>{n.value.page=1,O(),oe.success("搜索完成")},t=()=>{a.value={name:"",category:void 0},n.value.page=1,O(),oe.success("重置完成")},l=S=>{n.value.pageSize=S,O()},d=S=>{n.value.page=S,O()},R=S=>{u.value=S},i=()=>{C.value=!1,A(),N.value=!0},y=S=>{C.value=!0,Object.assign(g,S),T.value=[],N.value=!0},Y=async S=>{try{await Ca.confirm(`确定要删除商品「${S.name}」吗？此操作不可撤销。`,"删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning",customClass:"delete-confirm-message-box",confirmButtonClass:"delete-confirm-btn",distinguishCancelAndClose:!0,autofocus:!1}),await wa(S.id),oe.success("删除成功"),O()}catch(p){p!=="cancel"&&p!=="close"&&(oe.error("删除失败："+(p.message||"未知错误")),console.error("删除商品失败:",p))}},A=()=>{w.value&&w.value.resetFields(),Object.assign(g,{id:0,name:"",price:0,stock:0,category:0,images:[]}),T.value=[]},M=async S=>{try{const p=await ka(S.raw);g.images.push(p),T.value=[],oe.success("图片上传成功")}catch(p){oe.error("图片上传失败："+(p.message||"未知错误"))}},ue=S=>{const p=T.value.findIndex(j=>j.uid===S.uid);p!==-1&&T.value.splice(p,1)},ee=S=>{g.images.splice(S,1),oe.success("图片删除成功")},ve=()=>{A()},te=async()=>{if(w.value)try{if(await w.value.validate(),m.value=!0,C.value){const S={...g};await _a(S),oe.success("商品更新成功")}else{const S={name:g.name,price:g.price,stock:g.stock,category:g.category,images:g.images};await $a(S),oe.success("商品新增成功")}N.value=!1,O()}catch(S){S.name!=="ValidationError"&&oe.error("操作失败："+(S.message||"未知错误"))}finally{m.value=!1}};return Ke(async()=>{v.value=await ha(),await O()}),(S,p)=>{const j=St,W=Ct,we=Dt,b=Ft,q=bt,K=Et,le=Ut,Z=Ot,ke=Ma,ne=x,Ce=zt,Se=Nt,J=Lt,De=$s,Ue=wt;return h(),X(ya,{title:"商品管理",actions:[{type:"primary",text:"新增商品",icon:e(at),onClick:i}]},{default:c(()=>[r(le,{shadow:"never",class:"search-form"},{default:c(()=>[r(K,{inline:!0,onSubmit:pe(o,["prevent"])},{default:c(()=>[r(W,{label:"商品名称"},{default:c(()=>[r(j,{modelValue:a.value.name,"onUpdate:modelValue":p[0]||(p[0]=_=>a.value.name=_),placeholder:"请输入商品名称",clearable:"",onKeyup:Je(o,["enter"]),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),r(W,{label:"商品分类"},{default:c(()=>[r(b,{modelValue:a.value.category,"onUpdate:modelValue":p[1]||(p[1]=_=>a.value.category=_),placeholder:"请选择商品分类",clearable:"",style:{width:"180px"}},{default:c(()=>[(h(!0),P(he,null,Ie(v.value,_=>(h(),X(we,{key:_.id,label:_.name,value:_.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(W,null,{default:c(()=>[r(q,{type:"primary",onClick:o},{default:c(()=>[...p[11]||(p[11]=[ce("搜索",-1)])]),_:1}),r(q,{onClick:t},{default:c(()=>[...p[12]||(p[12]=[ce("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),r(le,{shadow:"never",class:"table-container"},{default:c(()=>[r(Ce,{data:k.value,style:{width:"100%"},onSelectionChange:R,border:""},{default:c(()=>[r(Z,{type:"selection",width:"55"}),r(Z,{prop:"id",label:"商品ID",width:"80",align:"center"}),r(Z,{prop:"name",label:"商品名称","min-width":"200","show-overflow-tooltip":""}),r(Z,{prop:"categoryName",label:"商品分类",width:"120",align:"center"}),r(Z,{prop:"price",label:"价格",width:"100",align:"center"},{default:c(_=>[ce(ie(_.row.price.toFixed(2)),1)]),_:1}),r(Z,{prop:"stock",label:"库存",width:"100",align:"center"}),r(Z,{prop:"images",label:"商品图片",width:"200",align:"center"},{default:c(_=>[_.row.images.length>0?(h(),P("div",Es,[_.row.images[0]?(h(),X(ke,{key:0,src:_.row.images[0],"preview-src-list":_.row.images,fit:"cover",class:"product-image"},{placeholder:c(()=>[...p[13]||(p[13]=[D("div",{class:"image-placeholder"},"无图片",-1)])]),_:1},8,["src","preview-src-list"])):L("",!0),_.row.images.length>1?(h(),P("span",Cs,"+"+ie(_.row.images.length-1),1)):L("",!0)])):(h(),P("span",Ss,"无图片"))]),_:1}),r(Z,{label:"操作",width:"180",fixed:"right",align:"center"},{default:c(_=>[D("div",Ls,[r(q,{type:"primary",size:"small",onClick:f=>y(_.row),class:"mr-2"},{default:c(()=>[r(ne,null,{default:c(()=>[r(e(va))]),_:1}),p[14]||(p[14]=ce(" 编辑 ",-1))]),_:1},8,["onClick"]),r(q,{type:"danger",size:"small",onClick:f=>Y(_.row)},{default:c(()=>[r(ne,null,{default:c(()=>[r(e(Xe))]),_:1}),p[15]||(p[15]=ce(" 删除 ",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"]),D("div",Ts,[r(Se,{"current-page":n.value.page,"onUpdate:currentPage":p[2]||(p[2]=_=>n.value.page=_),"page-size":n.value.pageSize,"onUpdate:pageSize":p[3]||(p[3]=_=>n.value.pageSize=_),"page-sizes":[10,20,50,100],total:n.value.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l,onCurrentChange:d},null,8,["current-page","page-size","total"])])]),_:1}),r(Ue,{modelValue:N.value,"onUpdate:modelValue":p[10]||(p[10]=_=>N.value=_),title:C.value?"编辑商品":"新增商品",width:"800px",onClose:ve},{footer:c(()=>[D("span",Rs,[r(q,{onClick:p[9]||(p[9]=_=>N.value=!1)},{default:c(()=>[...p[18]||(p[18]=[ce("取消",-1)])]),_:1}),r(q,{type:"primary",onClick:te,loading:m.value},{default:c(()=>[ce(ie(C.value?"更新":"保存"),1)]),_:1},8,["loading"])])]),default:c(()=>[r(K,{ref_key:"productFormRef",ref:w,model:g,rules:E,"label-width":"100px"},{default:c(()=>[r(W,{prop:"name",label:"商品名称"},{default:c(()=>[r(j,{modelValue:g.name,"onUpdate:modelValue":p[4]||(p[4]=_=>g.name=_),placeholder:"请输入商品名称"},null,8,["modelValue"])]),_:1}),r(W,{prop:"price",label:"商品价格"},{default:c(()=>[r(J,{modelValue:g.price,"onUpdate:modelValue":p[5]||(p[5]=_=>g.price=_),min:0,step:.01,precision:2,placeholder:"请输入商品价格",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),r(W,{prop:"stock",label:"商品库存"},{default:c(()=>[r(J,{modelValue:g.stock,"onUpdate:modelValue":p[6]||(p[6]=_=>g.stock=_),min:0,step:1,placeholder:"请输入商品库存",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),r(W,{prop:"category",label:"商品分类"},{default:c(()=>[r(b,{modelValue:g.category,"onUpdate:modelValue":p[7]||(p[7]=_=>g.category=_),placeholder:"请选择商品分类",style:{width:"100%"}},{default:c(()=>[(h(!0),P(he,null,Ie(v.value,_=>(h(),X(we,{key:_.id,label:_.name,value:_.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(W,{label:"商品图片"},{default:c(()=>[r(De,{"file-list":T.value,"onUpdate:fileList":p[8]||(p[8]=_=>T.value=_),class:"image-uploader","auto-upload":!1,"on-change":M,"on-remove":ue,"list-type":"picture-card",limit:5},{tip:c(()=>[...p[16]||(p[16]=[D("div",{class:"el-upload__tip"}," 请上传图片，最多5张 ",-1)])]),default:c(()=>[r(ne,null,{default:c(()=>[r(e(at))]),_:1})]),_:1},8,["file-list"]),g.images.length>0?(h(),P("div",Ps,[(h(!0),P(he,null,Ie(g.images,(_,f)=>(h(),P("div",{class:"preview-item",key:f},[r(ke,{src:_,"preview-src-list":g.images,fit:"cover"},{error:c(()=>[...p[17]||(p[17]=[D("div",{class:"image-placeholder"},"图片加载失败",-1)])]),_:1},8,["src","preview-src-list"]),r(q,{type:"danger",size:"small",class:"delete-image-btn",onClick:I=>ee(f)},{default:c(()=>[r(ne,null,{default:c(()=>[r(e(Xe))]),_:1})]),_:1},8,["onClick"])]))),128))])):L("",!0)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1},8,["actions"])}}}),Ys=ga(Is,[["__scopeId","data-v-b0b0ffd6"]]);export{Ys as default};
